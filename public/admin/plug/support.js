// ==============================================================================================================================

// 全局配置
config = {};
config.mode = "run";	// 运行模式
config.mode = "debug";	// 调试模式
config.page = "http://localhost:8081";	// 远程页面地址
config.qn_server = "http://qntemp.houheaven.com";             // 七牛存储空间地址
config.qn_token  = "/pub/qn_phpsdk/uptoken.php?bucket=temp";  // 七牛令牌生成地址
config.qn_flash  = "/pub/qn_jssdk/plupload/Moxie.swf";        // 插件 flash 地址，用于PC浏览器低版本，注意路径

var body_w = $(window).outerWidth();
var body_h = $(window).outerHeight();

// ==============================================================================================================================

/* Ajax.web.1.0.5.js  2016-12-21  */
function Ajax(a,b,c,d){var e={};switch(e.url=a,e.data="",e.type="get",e.success=function(a){a.state||layer.msg(a.msg)},e.failed=function(a){layer.confirm("\u7f51\u7edc\u5f02\u5e38\uff0c\u662f\u5426\u91cd\u65b0\u52a0\u8f7d\uff1f",{yes:function(){location.reload(!0)},cancel:function(){history.back()}})},arguments.length){case 2:"function"!=typeof arguments[1]?(e.type="post",e.data=arguments[1]):e.success=arguments[1];break;case 3:"function"!=typeof arguments[1]?(e.type="post",e.data=arguments[1],e.success=arguments[2]):(e.success=arguments[1],e.failed=arguments[2]);break;case 4:e.type="post",e.data=arguments[1],e.success=arguments[2],e.failed=arguments[3]}layer.load(),$.ajax({url:e.url,type:e.type,data:e.data,dataType:"json",success:function(a){layer.closeAll("prompt"),layer.closeAll("confirm"),layer.closeAll("loading"),e.success(a),Console("Ajax Return : ",a)},error:function(){layer.closeAll("prompt"),layer.closeAll("confirm"),layer.closeAll("loading"),e.failed()}})};

function AjaxGhost(a,b,c,d){var e={};switch(e.url=a,e.data="",e.type="get",e.success=function(a){a.state||layer.msg(a.msg)},e.failed=function(a){layer.confirm("\u7f51\u7edc\u5f02\u5e38\uff0c\u662f\u5426\u91cd\u65b0\u52a0\u8f7d\uff1f",{yes:function(){location.reload(!0)},cancel:function(){history.back()}})},arguments.length){case 2:"function"!=typeof arguments[1]?(e.type="post",e.data=arguments[1]):e.success=arguments[1];break;case 3:"function"!=typeof arguments[1]?(e.type="post",e.data=arguments[1],e.success=arguments[2]):(e.success=arguments[1],e.failed=arguments[2]);break;case 4:e.type="post",e.data=arguments[1],e.success=arguments[2],e.failed=arguments[3]}$.ajax({url:e.url,type:e.type,data:e.data,dataType:"json",success:function(a){layer.closeAll("prompt"),layer.closeAll("confirm"),layer.closeAll("loading"),e.success(a),Console("Ajax Return : ",a)},error:function(){layer.closeAll("prompt"),layer.closeAll("confirm"),layer.closeAll("loading"),e.failed()}})};

/* Alert.web.1.0.0.js  2016-12-21  */
function Alert(a){var b="";if(0==arguments.length)b="\u672a\u586b\u5199\u53c2\u6570";else for(i=0;i<arguments.length;i++)str=arguments[i],b+="object"==typeof str?JSON.stringify(str):str;alert(b)};

/* Cache.web.1.0.1.js  2016-12-21  */
function Cache(a,b,c,d){tkey=a+"_time",dkey=a+"_data",CacheTime=localdata.get(tkey),CacheData=localdata.get(dkey),!CacheData||!CacheTime||Date.now()>CacheTime?(layer.load(),$.ajax({url:a,type:"get",dataType:"json",success:function(d){layer.closeAll(),Console("Ajax Params : ",a),Console("Ajax Return : ",d),localdata.set(tkey,Date.now()+36e5*b),localdata.set(dkey,d),c(d)},error:function(){layer.closeAll(),(d=d?d:function(){layer.msg("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\uff01")})()}})):(ret=localdata.get(dkey,"obj"),c(ret))};

/* Console.web.1.0.0.js  2016-12-21  */
function Console(a){var b="";if(0==arguments.length)b="\u672a\u586b\u5199\u53c2\u6570";else for(i=0;i<arguments.length;i++)str=arguments[i],b+="object"==typeof str?JSON.stringify(str):str;console.log(b)};

/* hhdate.web.1.1.4.js  2016-12-21  */
!function(){this.name="hhdate",this.now=function(a){var b=Date.now(),c=this.getString(b,a);return Console("\u5f53\u524d\u65f6\u95f4\uff1a"+c+" | "+b),c},this.getString=function(a,b){var c=a||0,d=b||"YY-MM-DD hh:mm:ss",e=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],f=new Date(Number(c)),g=f.getFullYear(),h=f.getMonth()<9?"0"+(f.getMonth()+1):f.getMonth()+1,i=f.getDate()<10?"0"+f.getDate():f.getDate(),j=f.getHours()<10?"0"+f.getHours():f.getHours(),k=f.getMinutes()<10?"0"+f.getMinutes():f.getMinutes(),l=f.getSeconds()<10?"0"+f.getSeconds():f.getSeconds(),m=e[f.getDay()];return d=d.replace(/(YY)/g,g),d=d.replace(/(MM)/g,h),d=d.replace(/(DD)/g,i),d=d.replace(/(hh)/g,j),d=d.replace(/(mm)/g,k),d=d.replace(/(ss)/g,l),d=d.replace(/(ww)/g,m)},this.fromNow=function(a,b){var c=this.name+".fromNow()\uff1a",d=Date.now(),e=0;switch(!0){case/^\d{4}([-\/])\d{1,2}(\1)\d{1,2} \d{1,2}:\d{1,2}(:\d{1,2})?$/.test(a):e=this.getStamp(a);break;case"string"==typeof a&&!isNaN(parseInt(a)):e=parseInt(a);break;case"number"==typeof a:e=a;break;default:return c+"\u65e0\u6548\u7684\u65e5\u671f\u53c2\u6570!"}var f=d-e;switch(!0){case"string"==typeof b&&!isNaN(parseInt(b)):b=parseInt(b);break;case"number"==typeof b:b=b;break;default:b=5}switch(!0){case 1e3>f:return"\u521a\u521a";case 6e4>f:return parseInt(f/1e3)+" \u79d2\u524d";case 36e5>f:return parseInt(f/1e3/60)+" \u5206\u949f\u524d";case 864e5>f:return parseInt(f/1e3/60/60)+" \u5c0f\u65f6\u524d";case 26784e5>f:return parseInt(f/1e3/60/60/24)+" \u5929\u524d";case 31536e6>f:return parseInt(f/1e3/60/60/24/31)+" \u6708\u524d";case 31536e6*b>f:return parseInt(f/31536e6)+" \u5e74\u524d";default:return this.getString(e)}},this.getStamp=function(a){if(funname=this.name+".getStamp()\uff1a",null==a)return funname+"\u672a\u586b\u5199\u65e5\u671f\uff01";if(/^\d{4}([-\/])\d{1,2}(\1)\d{1,2} \d{1,2}:\d{1,2}$/.test(a)&&(a+=":00"),!/^\d{4}([-\/])\d{1,2}(\1)\d{1,2} \d{1,2}:\d{1,2}:\d{1,2}$/.test(a))return funname+"\u65e0\u6548\u7684\u65e5\u671f\uff01";switch(a=a.replace(/-/g,"/"),arr=a.split(/[\/: ]/),!0){case!(arr[1]>0&&arr[1]<13):return funname+"\u65e0\u6548\u7684\u6708\u4efd\uff01";case!(arr[2]>0&&arr[2]<32):return funname+"\u65e0\u6548\u7684\u65e5\u671f\uff01";case!(arr[3]>=0&&arr[3]<24):return funname+"\u65e0\u6548\u7684\u5c0f\u65f6\uff01";case!(arr[4]>=0&&arr[4]<60):return funname+"\u65e0\u6548\u7684\u5206\u949f\uff01";case!(arr[5]>=0&&arr[5]<60):return funname+"\u65e0\u6548\u7684\u79d2\u6570\uff01"}return Date.parse(a)},this.getObj=function(a){return new Date(this.getStamp(a))},window.hhdate=this}();;

/* hhobj.web.1.0.0.js  2016-12-21  */
!function(){this.size=function(a){var b=a,c=0;if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(b).length;for(var d in b)c++;return c},window.hhobj=this}();;

/* hhstate.web.1.1.0.js  2016-12-21  */
hhstate=function(a){function b(b,c,d,e){var f={elm:b,descp:c||"",icon:d||"",pos:e};"object"==typeof b&&a.extend(f,b),""!=f.elm&&(f.pos=1==f.pos?"hhrelative":"",markup="<div class='hhstate "+f.pos+"'>",markup+="<div class='statefont "+f.icon+"'></div>",markup+="<div class='hh_descp'>"+f.descp+"</div>",markup+="</div>",a(f.elm).html(markup))}function c(a,c,d){var e="\u52a0\u8f7d\u4e2d",f=arguments,c=c||e;2==f.length&&"boolean"==typeof f[1]&&(d=f[1],c=e),b(a,c,"hh_loading",d)}function d(a,c,d){var e="\u6ca1\u6709\u4efb\u4f55\u5185\u5bb9",f=arguments,c=c||e;2==f.length&&"boolean"==typeof f[1]&&(d=f[1],c=e),b(a,c,"hh_empty",d)}function e(a,c,d){var e="\u70b9\u51fb\u91cd\u65b0\u83b7\u53d6\u6570\u636e",f=arguments,c=c||e;2==f.length&&"boolean"==typeof f[1]&&(d=f[1],c=e),b(a,c,"hh_error",d)}return{init:c,error:e,empty:d,custom:b}}(jQuery);;

/* localdata.web.1.0.1.js  2016-12-21  */
localdata={set:function(a,b){b="object"==typeof b?JSON.stringify(b):b,localStorage.setItem(a,b)},get:function(a,b){return"undefined"==typeof b?localStorage.getItem(a):JSON.parse(localStorage.getItem(a))},del:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()}};;

/* pullToLoad.web.1.1.0.js  2016-12-21  */
function pullToLoad(a,b,c){function d(){if(0!=k){var b=$(window).scrollTop(),d=$(".framepage").outerHeight()-$(window).outerHeight()-j.trigger;b>d&&(k=!1,$(".pullup").show(),Ajax(a,j,function(a){a.state?(k=!0,j.page+=1,$(".pullup").hide(),c(a.data)):g()},function(){h(),layer.msg("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")}))}}function e(a){$.extend(j,a),f()}function f(){k=!0,$(".pullup").hide(),$(".pullup img").show(),$(".pullup .tips").text("\u6b63\u5728\u52a0\u8f7d"),$(window).on("scroll",d)}function g(){layer.msg("\u6ca1\u6709\u66f4\u591a"),k=!1,$(".pullup").show(),$(".pullup img").hide(),$(".pullup .tips").text("\u6ca1\u6709\u66f4\u591a"),$(window).off("scroll",d)}function h(){$(".pullup img").hide(),$(".pullup .tips").text("\u91cd\u65b0\u52a0\u8f7d"),$(".pullup").one("click",f)}var i,j={page:2,size:10,trigger:100},k=!0;$.extend(j,b),i="<div class='pullup'>",i+="<p>",i+="<img src='plug/hhframe/image/hf_loading3.gif' />",i+="<span class='tips'>\u6b63\u5728\u52a0\u8f7d</span>",i+="</p>",i+="</div>",$(".wrapper").append(i),$(".pullup").hide(),$(window).on("scroll",d),pullToLoad.pause=g,pullToLoad.start=f,pullToLoad.init=e};

/* qn.web.1.1.6.js  2017-01-11  */
function imgupload(a){if(a=a||{},!a.elm)return void alert("\u672a\u6307\u5b9a\u4e0a\u4f20\u6807\u7b7e\uff01");if(0==$(a.elm).length)return void alert("\u627e\u4e0d\u5230\u6b64\u6807\u7b7e");var b=(a.max_size||100)+"mb",c=a.max_retry||1,d=a.multi||!1,e=a.prefix||"",f=a.qn_server||config.qn_server||"",g=a.qn_token||config.qn_token||"",h=a.qn_flash||config.qn_flash||"";$(a.elm).each(function(i,j){i=Date.now(),rand=Math.floor(50*Math.random()+1);var k="uploadimgwrap_"+i+"_"+rand,l="pickfiles_"+i+rand;$(this).attr({id:l}).wrap("<div class='uploadimgwrap' id='"+k+"'></div>"),QNinit=Qiniu.uploader({runtimes:"html5,flash,html4",domain:f,uptoken_url:g,flash_swf_url:h,browse_button:l,container:k,dragdrop:!0,drop_element:k,max_file_size:b,max_retries:c,chunk_size:"4mb",auto_start:!1,multi_selection:d,prefix:e,filters:{mime_types:[{title:"Image files",extensions:"jpg,jpeg,gif,png,bmp"}]},init:{FilesAdded:a.FilesAdded||function(a,b){plupload.each(b,function(b){a.start()})},BeforeUpload:a.BeforeUpload||function(a,b){layer.progress(0)},UploadProgress:function(b,c){return Console("\u4e0a\u4f20\u8fdb\u5ea6\uff1a",c),a.UploadProgress?void a.UploadProgress(c):void layer.progress(c.percent,"\u6b63\u5728\u4e0a\u4f20")},FileUploaded:function(b,c,d){var d=JSON.parse(d),e=a.thumb_w||300,g=a.thumb_h||200,h=d.width,i=d.height,j=e/g,k=h/i;switch(!0){case k>j&&g>i:e=Math.round(i*j),g=i;break;case e>h&&j>k:e=h,g=Math.round(h/j)}var m="#"+l,n=f+d.key,o=n+"?imageView2/1/w/"+e+"/h/"+g;d.name=c.name,a.FileUploaded(m,n,o,d),layer.closeAll("loading"),Console("===================================="),Console("\u4e0a\u4f20\u5b8c\u6bd5"),Console("image : ",n),Console("thumb : ",o),Console("info  : ",d),Console("====================================")},Error:function(a,b,c){Console("\u9519\u8bef\u4fe1\u606f\uff1a",b),Console("\u9519\u8bef\u63d0\u793a\uff1a",c),alert("\u9519\u8bef\u63d0\u793a\uff1a"+c)},UploadComplete:function(){a.UploadComplete&&a.UploadComplete()},Key:function(a,b){var c=a.settings.prefix+b.name;return c}}})})}


// ==============================================================================================================================

/* lazyload 图片懒加载  https://github.com/jieyou/lazyload */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery||window.Zepto)}(function(a,b){function g(){}function h(a,b){var e;return e=b._$container==d?("innerHeight"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var f;return f=e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function j(a,b){var c;return c=b._$container==d?d.scrollTop():b._$container.offset().top,c>=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d,e){function g(){f.trigger("_lazyload_appear"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||"none"===f.css("display")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c>b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b,c){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:c,data_attribute:"src",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace("[object ","").replace("]","")}}(),a.fn.hasOwnProperty("lazyload")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){-1!=a.inArray(g,["threshold","failure_limit","check_appear_throttle_time"])?"String"==f(b[g])?b[g]=parseInt(b[g],10):b[g]=h:"container"==g?(b.hasOwnProperty(g)?b[g]==c||b[g]==document?b._$container=d:b._$container=a(b[g]):b._$container=d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&f(b[g])==f(e[g])||(b[g]=h)}),i="scroll"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||"scrollstart"==b.event||"scrollstop"==b.event,h.each(function(c,d){var e=this,f=h.eq(c),i=f.attr("src"),k=f.attr("data-"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr("data-"+b.data_srcset_attribute),o=f.is("img");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,void(h=m(h))):(f._lazyload_loadStarted=!1,o&&!i&&f.one("error",function(){f.attr("src",b.placeholder_real_img)}).attr("src",b.placeholder_data_img),f.one("_lazyload_appear",function(){function i(){d&&f.hide(),o?(n&&f.attr("srcset",n),l&&f.attr("src",l)):f.css("background-image",'url("'+l+'")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d="show"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one("load",function(){b.load.call(e,f,h.length,b)}),i()):a("<img />").one("load",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr("src",l))}),void(j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger("_lazyload_appear")})))}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on("resize load",function(){k(h,b)}),a(function(){k(h,b)}),this})});

/* layer-v3.0.1 弹层组件 License LGPL  http://layer.layui.com/ By 贤心 ( layer.hh.1.1.1 2017-01-11 ) */
!function(a,b){"use strict";var c,d,e=a.layui&&layui.define,f={getPath:function(){var a=document.scripts,b=a[a.length-1],c=b.src;if(!b.getAttribute("merge"))return c.substring(0,c.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["\u786e\u5b9a","\u53d6\u6d88"],type:["dialog","page","iframe","loading","tips"]},g={v:"3.0.1",ie:function(){var b=navigator.userAgent.toLowerCase();return a.ActiveXObject||"ActiveXObject"in a?(b.match(/msie\s(\d+)/)||[])[1]||"11":!1}(),index:a.layer&&a.layer.v?1e5:0,path:f.getPath,config:function(a,b){return a=a||{},g.cache=f.config=c.extend({},f.config,a),g.path=f.config.path||g.path,"string"==typeof a.extend&&(a.extend=[a.extend]),f.config.path&&g.ready(),a.extend?(e?layui.addcss("modules/layer/"+a.extend):g.link("layer/skin/"+a.extend),this):this},link:function(b,d,e){if(g.path){var f=c("head")[0],h=document.createElement("link");"string"==typeof d&&(e=d);var i=(e||b).replace(/\.|\//g,""),j="layuicss-"+i,k=0;h.rel="stylesheet",h.href=g.path+b,h.id=j,c("#"+j)[0]||f.appendChild(h),"function"==typeof d&&!function l(){return++k>80?a.console&&console.error("layer.css: Invalid"):void(1989===parseInt(c("#"+j).css("width"))?d():setTimeout(l,100))}()}},ready:function(a){var b="skinlayercss",c="1110";return e?layui.addcss("modules/layer/default/layer.css?v="+g.v+c,a,b):g.link("layer/skin/default/layer.css?v="+g.v+c,a,b),this},alert:function(a,b,d){var e="function"==typeof b,h=f.config.skin,i=h?h+" "+h+"-alert":"";return e&&(d=b),g.open(c.extend({skin:i,title:"\u4fe1\u606f\u63d0\u793a",content:a,yes:d},e?{}:b))},confirm:function(a,b,d,e){var h="function"==typeof b,j=f.config.skin,k=j?i[0]+"-confirm "+j+" "+j+"-confirm":"";return h&&(e=d,d=b),g.open(c.extend({skin:k,title:"\u4fe1\u606f\u786e\u8ba4",content:a,btn:["\u53d6\u6d88","\u786e\u5b9a"],cancel:e,yes:function(a){g.close(a),d&&d()}},h?{}:b))},msg:function(a,d,e){var h="function"==typeof d,j=f.config.skin,k=(j?j+" "+j+"-msg":"")||"layui-layer-msg",l=i.anim.length-1;return h&&(e=d),g.open(c.extend({content:a,time:1500,shade:!1,skin:k,title:!1,closeBtn:!1,btn:!1,resize:!1,end:e},h&&!f.config.skin?{skin:k+" layui-layer-hui",anim:l}:function(){return d=d||{},(-1===d.icon||d.icon===b&&!f.config.skin)&&(d.skin=k+" "+(d.skin||"layui-layer-hui")),d}()))},load:function(a,b){return g.open(c.extend({type:3,icon:0,resize:!1,shade:.01,maxWidth:120,content:a||"\u52a0\u8f7d\u4e2d"},b))},progress:function(a,b,d){b=b||"\u8bf7\u7a0d\u540e";var e=f.config.skin,h=e?e+" "+e+"-progress":"",i=c("."+e+"-progress");return 0==i.length?g.open(c.extend({type:3,skin:h,resize:!1,shade:.01,maxWidth:120,content:"<p>"+a+" %</p><b>"+b+"</b>"},d)):void(a>=100?(i.find("div").html("<p>100 %</p><b>\u5b8c\u6210</b>"),setTimeout(function(){g.closeAll()},1e3)):i.find("div").html("<p>"+a+" %</p><b>"+b+"</b>"))},tips:function(a,b,d){return g.open(c.extend({type:4,content:[a,b],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},d))},prompt:function(a,b){a=a||{},"function"==typeof a&&(b=a);var d,e,h=f.config.skin,j=h?i[0]+"-prompt "+h+" "+h+"-prompt":"";switch(a.formType){case 1:e='<input type="password" class="layui-layer-input" value="'+(a.value||"")+'" maxlength="'+(a.maxlength||500)+'" />';break;case 2:e='<textarea class="layui-layer-input">'+(a.value||"")+"</textarea>";break;case 3:e='<input type="tel" class="layui-layer-input" value="'+(a.value||"")+'" maxlength="'+(a.maxlength||500)+'" />';break;default:e='<input type="text" class="layui-layer-input" value="'+(a.value||"")+'" maxlength="'+(a.maxlength||500)+'" />'}return g.open(c.extend({title:"\u4fe1\u606f\u8f93\u5165",btn:["\u53d6\u6d88","\u786e\u5b9a"],content:e,skin:j,resize:!1,success:function(a){d=a.find(".layui-layer-input"),d.focus(),d.keyup(function(b){13==b.which&&d.is("input")&&a.find(".layui-layer-btn a:last").trigger("click")})},yes:function(c){var e=d.val();switch(!0){case""===e:d.css({border:"1px solid #f66"}),setTimeout(function(){d.focus().css({border:"1px solid #e5e5e5"})},1e3);break;case e.length>(a.maxlength||500):g.tips("\u6700\u591a\u8f93\u5165"+(a.maxlength||500)+"\u4e2a\u5b57\u6570",d,{tips:1});break;default:b&&b(e,c,d)}}},a))},panel:function(b){b=b||{};var e=f.config.skin,h=b.skin||" ",i=e?e+" "+e+"-panel "+h:"",j=2,k=0,l=0,m=0,n=0,o=b.size||"40%",p=b.pos||"bottom",q=b.wrap||"body";switch(!0){case"bottom"==p:j=7,k=d.width(),l="string"==typeof o?parseInt(d.height()*parseFloat(o)/100):o,m=0,n=d.height()-l;break;case"top"==p:j=8,k=d.width(),l="string"==typeof o?parseInt(d.height()*parseFloat(o)/100):o,m=0,n=0;break;case"left"==p:j=9,k="string"==typeof o?parseInt(d.width()*parseFloat(o)/100):o,l=d.height(),m=0,n=0;break;case"right"==p:j=10,k="string"==typeof o?parseInt(d.width()*parseFloat(o)/100):o,l=d.height(),m=d.width()-k,n=0;break;default:j=7,k=d.width(),l="string"==typeof o?parseInt(d.height()*parseFloat(o)/100):o,m=0,n=d.height()-l}return g.open({type:1,title:b.title||"\u4fe1\u606f\u63d0\u793a",content:b.content,closeBtn:b.closeBtn,btn:b.btn||["\u5173\u95ed"],skin:i,area:[k+"px",l+"px"],offset:[n+"px",m+"px"],move:!1,shift:j,shade:.001,shadeClose:!0,success:function(d){0==b.btn&&(d.find(".layui-layer-btn").remove(),d.find(".layui-layer-content").height(d.height()-55)),c(".layui-layer-shade").animate({opacity:.3},300),d.find("form,input,textarea").length>0&&(/(iphone|ipad|ios)/i.test(navigator.userAgent)||d.css({position:"absolute"}),c(q).css({overflow:"hidden"}),c(q).outerHeight()!=c(a).height()&&c(q).css({height:c(a).height()})),!b.success||b.success(d)},yes:function(a){b.yes?b.yes():g.close(a)},end:function(){c(q).css({overflow:"auto"})}})}},h=function(a){var b=this;b.index=++g.index,b.config=c.extend({},b.config,f.config,a),document.body?b.creat():setTimeout(function(){b.creat()},50)};h.pt=h.prototype;var i=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];i.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06","layer-anim-fadeInUp","layer-anim-fadeInDown","layer-anim-fadeInRight","layer-anim-fadeInLeft"],h.pt.config={type:0,shade:.5,fixed:!0,move:i[1],title:"\u4fe1\u606f",offset:"auto",area:"auto",closeBtn:0,time:0,zIndex:19891014,maxWidth:360,anim:0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},h.pt.vessel=function(a,b){var d=this,e=d.index,g=d.config,h=g.zIndex+e,j="object"==typeof g.title,k=g.maxmin&&(1===g.type||2===g.type),l=g.title?'<div class="layui-layer-title" style="'+(j?g.title[1]:"")+'">'+(j?g.title[0]:g.title)+"</div>":"";return c(c(".layui-layer-shade").length>0),c(".layui-layer-shade").remove(),g.zIndex=h,b([g.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+e+'" times="'+e+'" style="'+("z-index:"+(h-1)+"; background-color:"+(g.shade[1]||"#000")+"; opacity:"+(g.shade[0]||g.shade)+"; filter:alpha(opacity="+(100*g.shade[0]||100*g.shade)+");")+'"></div>':"",'<div class="'+i[0]+(" layui-layer-"+f.type[g.type])+(0!=g.type&&2!=g.type||g.shade?"":" layui-layer-border")+" "+(g.skin||"")+'" id="'+i[0]+e+'" type="'+f.type[g.type]+'" times="'+e+'" showtime="'+g.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+h+"; width:"+g.area[0]+";height:"+g.area[1]+(g.fixed?"":";position:absolute;")+'">'+(a&&2!=g.type?"":l)+'<div id="'+(g.id||"")+'" class="layui-layer-content'+(0==g.type&&-1!==g.icon?" layui-layer-padding":"")+(3==g.type?" layui-layer-loading"+g.icon:"")+'">'+(0==g.type&&-1!==g.icon?'<i class="layui-layer-ico layui-layer-ico'+g.icon+'"></i>':"")+(1==g.type&&a?"":g.content||"")+'</div><span class="layui-layer-setwin">'+function(){var a=k?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return g.closeBtn&&(a+='<a class="layui-layer-ico '+i[7]+" "+i[7]+(g.title?g.closeBtn:4==g.type?"1":"2")+'" href="javascript:;"></a>'),a}()+"</span>"+(g.btn?function(){var a="";"string"==typeof g.btn&&(g.btn=[g.btn]);for(var b=0,c=g.btn.length;c>b;b++)a+='<a class="'+i[6]+b+'">'+g.btn[b]+"</a>";return'<div class="'+i[6]+" layui-layer-btn-"+(g.btnAlign||"")+'">'+a+"</div>"}():"")+(g.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],l,c('<div class="layui-layer-move"></div>')),d},h.pt.creat=function(){var a=this,b=a.config,e=a.index,h=b.content,j="object"==typeof h,k=c("body");if(!c("#"+b.id)[0]){switch("string"==typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]),b.shift&&(b.anim=b.shift),6==g.ie&&(b.fixed=!1),b.type){case 0:b.btn="btn"in b?b.btn:f.btn[0],g.closeAll("dialog");break;case 2:var h=b.content=j?b.content:[b.content||"http://layer.layui.com","auto"];b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+i[4]+e+'" name="'+i[4]+e+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:delete b.title,delete b.closeBtn,-1===b.icon&&0===b.icon,g.closeAll("loading");break;case 4:j||(b.content=[b.content,"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i>',delete b.title,b.tips="object"==typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||g.closeAll("tips")}a.vessel(j,function(d,g,l){k.append(d[0]),j?function(){2==b.type||4==b.type?function(){c("body").append(d[1])}():function(){h.parents("."+i[0])[0]||(h.data("display",h.css("display")).show().addClass("layui-layer-wrap").wrap(d[1]),c("#"+i[0]+e).find("."+i[5]).before(g))}()}():k.append(d[1]),c(".layui-layer-move")[0]||k.append(f.moveElem=l),a.layero=c("#"+i[0]+e),b.scrollbar||i.html.css("overflow","hidden").attr("layer-full",e)}).auto(e),2==b.type&&6==g.ie&&a.layero.find("iframe").attr("src",h[0]),4==b.type?a.tips():a.offset(),b.fixed&&d.on("resize",function(){a.offset(),(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(e),4==b.type&&a.tips()}),b.time<=0||setTimeout(function(){g.close(a.index)},b.time),a.move().callback(),i.anim[b.anim]&&a.layero.addClass(i.anim[b.anim]).data("anim",!0).attr({anim:i.anim[b.anim]})}},h.pt.auto=function(a){function b(a){a=h.find(a),a.height(j[1]-k-l-2*(0|parseFloat(a.css("padding"))))}var e=this,f=e.config,h=c("#"+i[0]+a);""===f.area[0]&&f.maxWidth>0&&(g.ie&&g.ie<8&&f.btn&&h.width(h.innerWidth()),h.outerWidth()>f.maxWidth&&h.width(f.maxWidth));var j=[h.innerWidth(),h.innerHeight()],k=h.find(i[1]).outerHeight()||0,l=h.find("."+i[6]).outerHeight()||0;switch(f.type){case 2:b("iframe");break;default:""===f.area[1]?f.fixed&&j[1]>=d.height()&&(j[1]=d.height(),b("."+i[5])):b("."+i[5])}return e},h.pt.offset=function(){var a=this,b=a.config,c=a.layero,e=[c.outerWidth(),c.outerHeight()],g="object"==typeof b.offset;a.offsetTop=(d.height()-e[1])/2,a.offsetLeft=(d.width()-e[0])/2,g?(a.offsetTop=b.offset[0],a.offsetLeft=b.offset[1]||a.offsetLeft):"auto"!==b.offset&&("t"===b.offset?a.offsetTop=0:"r"===b.offset?a.offsetLeft=d.width()-e[0]:"b"===b.offset?a.offsetTop=d.height()-e[1]:"l"===b.offset?a.offsetLeft=0:"lt"===b.offset?(a.offsetTop=0,a.offsetLeft=0):"lb"===b.offset?(a.offsetTop=d.height()-e[1],a.offsetLeft=0):"rt"===b.offset?(a.offsetTop=0,a.offsetLeft=d.width()-e[0]):"rb"===b.offset?(a.offsetTop=d.height()-e[1],a.offsetLeft=d.width()-e[0]):a.offsetTop=b.offset),b.fixed||(a.offsetTop=/%$/.test(a.offsetTop)?d.height()*parseFloat(a.offsetTop)/100:parseFloat(a.offsetTop),a.offsetLeft=/%$/.test(a.offsetLeft)?d.width()*parseFloat(a.offsetLeft)/100:parseFloat(a.offsetLeft),a.offsetTop+=d.scrollTop(),a.offsetLeft+=d.scrollLeft()),c.attr("minLeft")&&(a.offsetTop=d.height()-(c.find(i[1]).outerHeight()||0),a.offsetLeft=c.css("left")),c.is("."+f.config.skin+"-msg")&&c.outerWidth()>250&&(c.width(250),a.offsetTop=(d.height()-c.outerHeight())/2,a.offsetLeft=(d.width()-250)/2),c.css({top:a.offsetTop,left:a.offsetLeft})},h.pt.tips=function(){var a=this,b=a.config,e=a.layero,f=[e.outerWidth(),e.outerHeight()],g=c(b.follow);g[0]||(g=c("body"));var h={width:g.outerWidth(),height:g.outerHeight(),top:g.offset().top,left:g.offset().left},j=e.find(".layui-layer-TipsG"),k=b.tips[0];b.tips[1]||j.remove(),h.autoLeft=function(){h.left+f[0]-d.width()>0?(h.tipLeft=h.left+h.width-f[0],j.css({right:12,left:"auto"})):h.tipLeft=h.left},h.where=[function(){h.autoLeft(),h.tipTop=h.top-f[1]-10,j.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",b.tips[1])},function(){h.tipLeft=h.left+h.width+10,h.tipTop=h.top,j.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",b.tips[1])},function(){h.autoLeft(),h.tipTop=h.top+h.height+10,j.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",b.tips[1])},function(){h.tipLeft=h.left-f[0]-10,h.tipTop=h.top,j.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",b.tips[1])}],h.where[k-1](),1===k?h.top-(d.scrollTop()+f[1]+16)<0&&h.where[2]():2===k?d.width()-(h.left+h.width+f[0]+16)>0||h.where[3]():3===k?h.top-d.scrollTop()+h.height+f[1]+16-d.height()>0&&h.where[0]():4===k&&f[0]+16-h.left>0&&h.where[1](),e.find("."+i[5]).css({"background-color":b.tips[1],"padding-right":b.closeBtn?"30px":""}),e.css({left:h.tipLeft-(b.fixed?d.scrollLeft():0),top:h.tipTop-(b.fixed?d.scrollTop():0)})},h.pt.move=function(){var a=this,b=a.config,e=c(document),h=a.layero,i=h.find(b.move),j=h.find(".layui-layer-resize"),k={};return b.move&&i.css("cursor","move"),i.on("mousedown",function(a){a.preventDefault(),b.move&&(k.moveStart=!0,k.offset=[a.clientX-parseFloat(h.css("left")),a.clientY-parseFloat(h.css("top"))],f.moveElem.css("cursor","move").show())}),j.on("mousedown",function(a){a.preventDefault(),k.resizeStart=!0,k.offset=[a.clientX,a.clientY],k.area=[h.outerWidth(),h.outerHeight()],f.moveElem.css("cursor","se-resize").show()}),e.on("mousemove",function(c){if(k.moveStart){var e=c.clientX-k.offset[0],f=c.clientY-k.offset[1],i="fixed"===h.css("position");if(c.preventDefault(),k.stX=i?0:d.scrollLeft(),k.stY=i?0:d.scrollTop(),!b.moveOut){var j=d.width()-h.outerWidth()+k.stX,l=d.height()-h.outerHeight()+k.stY;e<k.stX&&(e=k.stX),e>j&&(e=j),f<k.stY&&(f=k.stY),f>l&&(f=l)}h.css({left:e,top:f})}if(b.resize&&k.resizeStart){var e=c.clientX-k.offset[0],f=c.clientY-k.offset[1];c.preventDefault(),g.style(a.index,{width:k.area[0]+e,height:k.area[1]+f}),k.isResize=!0}}).on("mouseup",function(a){k.moveStart&&(delete k.moveStart,f.moveElem.hide(),b.moveEnd&&b.moveEnd()),k.resizeStart&&(delete k.resizeStart,f.moveElem.hide())}),a},h.pt.callback=function(){function a(){var a=e.cancel&&e.cancel(b.index,d);a===!1||g.close(b.index)}var b=this,d=b.layero,e=b.config;b.openLayer(),e.success&&(2==e.type?d.find("iframe").on("load",function(){e.success(d,b.index)}):e.success(d,b.index)),6==g.ie&&b.IE6(d);var h=c("."+i[6]+" a").length;d.find("."+i[6]).children("a").on("click",function(){var f=c(this).index();switch(e["btn"+(f+1)]&&e["btn"+(f+1)](b.index,d),h){case 1:e.yes?e.yes(b.index,d):g.close(b.index);break;case 2:0==f?a():e.yes?e.yes(b.index,d):g.close(b.index);break;default:e["btn"+(f+1)]||g.close(b.index)}}),d.find("."+i[7]).on("click",a),e.shadeClose&&c("#layui-layer-shade"+b.index).on("click",function(){g.close(b.index)}),d.find(".layui-layer-min").on("click",function(){var a=e.min&&e.min(d);a===!1||g.min(b.index,e)}),d.find(".layui-layer-max").on("click",function(){c(this).hasClass("layui-layer-maxmin")?(g.restore(b.index),e.restore&&e.restore(d)):(g.full(b.index,e),setTimeout(function(){e.full&&e.full(d)},100))}),e.end&&(f.end[b.index]=e.end)},f.reselect=function(){c.each(c("select"),function(a,b){var d=c(this);d.parents("."+i[0])[0]||1==d.attr("layer")&&c("."+i[0]).length<1&&d.removeAttr("layer").show(),d=null})},h.pt.IE6=function(a){c("select").each(function(a,b){var d=c(this);d.parents("."+i[0])[0]||"none"===d.css("display")||d.attr({layer:"1"}).hide(),d=null})},h.pt.openLayer=function(){var a=this;g.zIndex=a.config.zIndex,g.setTop=function(a){var b=function(){g.zIndex++,a.css("z-index",g.zIndex+1)};return g.zIndex=parseInt(a[0].style.zIndex),a.on("mousedown",b),g.zIndex}},f.record=function(a){var b=[a.width(),a.height(),a.position().top,a.position().left+parseFloat(a.css("margin-left"))];a.find(".layui-layer-max").addClass("layui-layer-maxmin"),a.attr({area:b})},f.rescollbar=function(a){i.html.attr("layer-full")==a&&(i.html[0].style.removeProperty?i.html[0].style.removeProperty("overflow"):i.html[0].style.removeAttribute("overflow"),i.html.removeAttr("layer-full"))},a.layer=g,g.getChildFrame=function(a,b){return b=b||c("."+i[4]).attr("times"),c("#"+i[0]+b).find("iframe").contents().find(a)},g.getFrameIndex=function(a){return c("#"+a).parents("."+i[4]).attr("times")},g.iframeAuto=function(a){if(a){var b=g.getChildFrame("html",a).outerHeight(),d=c("#"+i[0]+a),e=d.find(i[1]).outerHeight()||0,f=d.find("."+i[6]).outerHeight()||0;d.css({height:b+e+f}),d.find("iframe").css({height:b})}},g.iframeSrc=function(a,b){c("#"+i[0]+a).find("iframe").attr("src",b)},g.style=function(a,b,d){var e=c("#"+i[0]+a),g=e.find(".layui-layer-content"),h=e.attr("type"),j=e.find(i[1]).outerHeight()||0,k=e.find("."+i[6]).outerHeight()||0;e.attr("minLeft");h!==f.type[3]&&h!==f.type[4]&&(d||(parseFloat(b.width)<=260&&(b.width=260),parseFloat(b.height)-j-k<=64&&(b.height=64+j+k)),e.css(b),k=e.find("."+i[6]).outerHeight(),h===f.type[2]?e.find("iframe").css({height:parseFloat(b.height)-j-k}):g.css({height:parseFloat(b.height)-j-k-parseFloat(g.css("padding-top"))-parseFloat(g.css("padding-bottom"))}))},g.min=function(a,b){var e=c("#"+i[0]+a),h=e.find(i[1]).outerHeight()||0,j=e.attr("minLeft")||181*f.minIndex+"px",k=e.css("position");f.record(e),f.minLeft[0]&&(j=f.minLeft[0],f.minLeft.shift()),e.attr("position",k),g.style(a,{width:180,height:h,left:j,top:d.height()-h,position:"fixed",overflow:"hidden"},!0),e.find(".layui-layer-min").hide(),"page"===e.attr("type")&&e.find(i[4]).hide(),f.rescollbar(a),e.attr("minLeft")||f.minIndex++,e.attr("minLeft",j)},g.restore=function(a){var b=c("#"+i[0]+a),d=b.attr("area").split(",");b.attr("type");g.style(a,{width:parseFloat(d[0]),height:parseFloat(d[1]),top:parseFloat(d[2]),left:parseFloat(d[3]),position:b.attr("position"),overflow:"visible"},!0),b.find(".layui-layer-max").removeClass("layui-layer-maxmin"),b.find(".layui-layer-min").show(),"page"===b.attr("type")&&b.find(i[4]).show(),f.rescollbar(a)},g.full=function(a){var b,e=c("#"+i[0]+a);f.record(e),i.html.attr("layer-full")||i.html.css("overflow","hidden").attr("layer-full",a),clearTimeout(b),b=setTimeout(function(){var b="fixed"===e.css("position");g.style(a,{top:b?0:d.scrollTop(),left:b?0:d.scrollLeft(),width:d.width(),height:d.height()},!0),e.find(".layui-layer-min").hide()},100)},g.title=function(a,b){var d=c("#"+i[0]+(b||g.index)).find(i[1]);d.html(a)},g.close=function(a){var b=c("#"+i[0]+a),d=b.attr("type"),e=i.anim.indexOf(b.attr("anim"))<=6?"layer-anim-close":"exit";if(b[0]){var h="layui-layer-wrap",j=function(){if(d===f.type[1]&&"object"===b.attr("conType")){b.children(":not(."+i[5]+")").remove();for(var e=b.find("."+h),g=0;2>g;g++)e.unwrap();e.css("display",e.data("display")).removeClass(h)}else{if(d===f.type[2])try{var j=c("#"+i[4]+a)[0];j.contentWindow.document.write(""),j.contentWindow.close(),b.find("."+i[5])[0].removeChild(j)}catch(k){}d===f.type[1]?(b.addClass("exit"),setTimeout(function(){b[0].innerHTML="",b.remove()},300)):(b[0].innerHTML="",b.remove())}"function"==typeof f.end[a]&&f.end[a](),delete f.end[a]};b.data("anim")&&b.addClass(e),c("#layui-layer-moves, #layui-layer-shade"+a).animate({opacity:0},300),setTimeout(function(){c("#layui-layer-moves, #layui-layer-shade"+a).remove()},300),6==g.ie&&f.reselect(),f.rescollbar(a),b.attr("minLeft")&&(f.minIndex--,f.minLeft.push(b.attr("minLeft"))),setTimeout(function(){j()},g.ie&&g.ie<10||!b.data("anim")?0:200)}},g.closeAll=function(a){c.each(c("."+i[0]),function(){var b=c(this);if("prompt"==a&&b.is("."+i[0]+"-prompt")||"confirm"==a&&b.is("."+i[0]+"-confirm"))return void g.close(b.attr("times"));var d=a?b.attr("type")===a:1;d&&g.close(b.attr("times")),d=null})};var j=g.cache||{},k=function(a){return j.skin?" "+j.skin+" "+j.skin+"-"+a:""};g.tab=function(a){a=a||{};var b=a.tab||{};return g.open(c.extend({type:1,skin:"layui-layer-tab"+k("tab"),resize:!1,title:function(){var a=b.length,c=1,d="";if(a>0)for(d='<span class="layui-layer-tabnow">'+b[0].title+"</span>";a>c;c++)d+="<span>"+b[c].title+"</span>";return d}(),content:'<ul class="layui-layer-tabmain">'+function(){var a=b.length,c=1,d="";if(a>0)for(d='<li class="layui-layer-tabli xubox_tab_layer">'+(b[0].content||"no content")+"</li>";a>c;c++)d+='<li class="layui-layer-tabli">'+(b[c].content||"no  content")+"</li>";return d}()+"</ul>",success:function(b){var d=b.find(".layui-layer-title").children(),e=b.find(".layui-layer-tabmain").children();d.on("mousedown",function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;var d=c(this),f=d.index();d.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),e.eq(f).show().siblings().hide(),"function"==typeof a.change&&a.change(f)})}},a))},g.photos=function(b,d,e){function f(a,b,c){var d=new Image;return d.src=a,d.complete?b(d):(d.onload=function(){d.onload=null,b(d)},void(d.onerror=function(a){d.onerror=null,c(a)}))}var h={};if(b=b||{},b.photos){var i=b.photos.constructor===Object,j=i?b.photos:{},l=j.data||[],m=j.start||0;if(h.imgIndex=(0|m)+1,b.img=b.img||"img",i){if(0===l.length)return g.msg("\u6ca1\u6709\u56fe\u7247")}else{var n=c(b.photos),o=function(){l=[],n.find(b.img).each(function(a){var b=c(this);b.attr("layer-index",a),l.push({alt:b.attr("alt"),pid:b.attr("layer-pid"),src:b.attr("layer-src")||b.attr("src"),thumb:b.attr("src")})})};if(o(),0===l.length)return;if(d||n.on("click",b.img,function(){var a=c(this),d=a.attr("layer-index");g.photos(c.extend(b,{photos:{start:d,data:l,tab:b.tab},full:b.full}),!0),o()}),!d)return}h.imgprev=function(a){h.imgIndex--,h.imgIndex<1&&(h.imgIndex=l.length),h.tabimg(a)},h.imgnext=function(a,b){h.imgIndex++,h.imgIndex>l.length&&(h.imgIndex=1,b)||h.tabimg(a)},h.keyup=function(a){if(!h.end){var b=a.keyCode;a.preventDefault(),37===b?h.imgprev(!0):39===b?h.imgnext(!0):27===b&&g.close(h.index)}},h.tabimg=function(a){l.length<=1||(j.start=h.imgIndex-1,g.close(h.index),g.photos(b,!0,a))},h.event=function(){h.bigimg.hover(function(){h.imgsee.show()},function(){h.imgsee.hide()}),h.bigimg.find(".layui-layer-imgprev").on("click",function(a){a.preventDefault(),h.imgprev()}),h.bigimg.find(".layui-layer-imgnext").on("click",function(a){a.preventDefault(),h.imgnext()}),c(document).on("keyup",h.keyup)},h.loadi=g.load(1,{shade:"shade"in b?!1:.9,scrollbar:!1}),f(l[m].src,function(d){g.close(h.loadi),h.index=g.open(c.extend({type:1,area:function(){var e=[d.width,d.height],f=[c(a).width()-100,c(a).height()-100];if(!b.full&&(e[0]>f[0]||e[1]>f[1])){var g=[e[0]/f[0],e[1]/f[1]];g[0]>g[1]?(e[0]=e[0]/g[0],e[1]=e[1]/g[0]):g[0]<g[1]&&(e[0]=e[0]/g[1],e[1]=e[1]/g[1])}return[e[0]+"px",e[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,anim:5*Math.random()|0,skin:"layui-layer-photos"+k("photos"),content:'<div class="layui-layer-phimg"><img src="'+l[m].src+'" alt="'+(l[m].alt||"")+'" layer-pid="'+l[m].pid+'"><div class="layui-layer-imgsee">'+(l.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(e?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(l[m].alt||"")+"</a><em>"+h.imgIndex+"/"+l.length+"</em></span></div></div></div>",success:function(a,c){h.bigimg=a.find(".layui-layer-phimg"),h.imgsee=a.find(".layui-layer-imguide,.layui-layer-imgbar"),h.event(a),b.tab&&b.tab(l[m],a)},end:function(){h.end=!0,c(document).off("keyup",h.keyup)}},b))},function(){g.close(h.loadi),g.msg("\u5f53\u524d\u56fe\u7247\u5730\u5740\u5f02\u5e38<br>\u662f\u5426\u7ee7\u7eed\u67e5\u770b\u4e0b\u4e00\u5f20\uff1f",{time:3e4,btn:["\u4e0b\u4e00\u5f20","\u4e0d\u770b\u4e86"],yes:function(){l.length>1&&h.imgnext(!0,!0)}})})}},f.run=function(b){c=b,d=c(a),i.html=c("html"),g.open=function(a){var b=new h(a);return b.index}},a.layui&&layui.define?(g.ready(),layui.define("jquery",function(b){g.path=layui.cache.dir,f.run(layui.jquery),a.layer=g,b("layer",g)})):"function"==typeof define?define(["jquery"],function(){return f.run(a.jQuery),g}):function(){f.run(a.jQuery),g.ready()}()}(window),layer.config({extend:"hhskin.css",skin:"layer-ext-hhskin"});

/*! layPage-v1.3.0 分页组件 License MIT  http://laypage.layui.com/ By 贤心 */
;!function(){"use strict";function a(d){var e="laypagecss";a.dir="dir"in a?a.dir:f.getpath+"../plug/laypage/skin/laypage.css",new f(d),a.dir&&!b[c](e)&&f.use(a.dir,e)}a.v="1.3";var b=document,c="getElementById",d="getElementsByTagName",e=0,f=function(a){var b=this,c=b.config=a||{};c.item=e++,b.render(!0)};f.on=function(a,b,c){return a.attachEvent?a.attachEvent("on"+b,function(){c.call(a,window.even)}):a.addEventListener(b,c,!1),f},f.getpath=function(){var a=document.scripts,b=a[a.length-1].src;return b.substring(0,b.lastIndexOf("/")+1)}(),f.use=function(c,e){var f=b.createElement("link");f.type="text/css",f.rel="stylesheet",f.href=a.dir,e&&(f.id=e),b[d]("head")[0].appendChild(f),f=null},f.prototype.type=function(){var a=this.config;return"object"==typeof a.cont?void 0===a.cont.length?2:3:void 0},f.prototype.view=function(){var b=this,c=b.config,d=[],e={};if(c.pages=0|c.pages,c.curr=0|c.curr||1,c.groups="groups"in c?0|c.groups:5,c.first="first"in c?c.first:"首页",c.last="last"in c?c.last:"尾页",c.prev="prev"in c?c.prev:"上一页",c.next="next"in c?c.next:"下一页",c.pages<=1)return"";for(c.groups>c.pages&&(c.groups=c.pages),e.index=Math.ceil((c.curr+(c.groups>1&&c.groups!==c.pages?1:0))/(0===c.groups?1:c.groups)),c.curr>1&&c.prev&&d.push('<a href="javascript:;" class="laypage_prev" data-page="'+(c.curr-1)+'">'+c.prev+"</a>"),e.index>1&&c.first&&0!==c.groups&&d.push('<a href="javascript:;" class="laypage_first" data-page="1"  title="&#x9996;&#x9875;">'+c.first+"</a><span>…</span>"),e.poor=Math.floor((c.groups-1)/2),e.start=e.index>1?c.curr-e.poor:1,e.end=e.index>1?function(){var a=c.curr+(c.groups-e.poor-1);return a>c.pages?c.pages:a}():c.groups,e.end-e.start<c.groups-1&&(e.start=e.end-c.groups+1);e.start<=e.end;e.start++)e.start===c.curr?d.push('<span class="laypage_curr" '+(/^#/.test(c.skin)?'style="background-color:'+c.skin+'"':"")+">"+e.start+"</span>"):d.push('<a href="javascript:;" data-page="'+e.start+'">'+e.start+"</a>");return c.pages>c.groups&&e.end<c.pages&&c.last&&0!==c.groups&&d.push('<span>…</span><a href="javascript:;" class="laypage_last" title="&#x5C3E;&#x9875;"  data-page="'+c.pages+'">'+c.last+"</a>"),e.flow=!c.prev&&0===c.groups,(c.curr!==c.pages&&c.next||e.flow)&&d.push(function(){return e.flow&&c.curr===c.pages?'<span class="page_nomore" title="&#x5DF2;&#x6CA1;&#x6709;&#x66F4;&#x591A;">'+c.next+"</span>":'<a href="javascript:;" class="laypage_next" data-page="'+(c.curr+1)+'">'+c.next+"</a>"}()),'<div name="laypage'+a.v+'" class="laypage_main laypageskin_'+(c.skin?function(a){return/^#/.test(a)?"molv":a}(c.skin):"default")+'" id="laypage_'+b.config.item+'">'+d.join("")+function(){return c.skip?'<span class="laypage_total"><label>到第</label><input type="number" min="1" onkeyup="this.value=this.value.replace(/\\D/, \'\');" class="laypage_skip"><label>页</label><button type="button" class="laypage_btn">确定</button></span>':""}()+"</div>"},f.prototype.jump=function(a){if(a){for(var b=this,c=b.config,e=a.children,g=a[d]("button")[0],h=a[d]("input")[0],i=0,j=e.length;j>i;i++)"a"===e[i].nodeName.toLowerCase()&&f.on(e[i],"click",function(){var a=0|this.getAttribute("data-page");c.curr=a,b.render()});g&&f.on(g,"click",function(){var a=0|h.value.replace(/\s|\D/g,"");a&&a<=c.pages&&(c.curr=a,b.render())})}},f.prototype.render=function(a){var d=this,e=d.config,f=d.type(),g=d.view();2===f?e.cont.innerHTML=g:3===f?e.cont.html(g):b[c](e.cont).innerHTML=g,e.jump&&e.jump(e,a),d.jump(b[c]("laypage_"+e.item)),e.hash&&!a&&(location.hash="!"+e.hash+"="+e.curr)},"function"==typeof define?define(function(){return a}):"undefined"!=typeof exports?module.exports=a:window.laypage=a}();


// ==============================================================================================================================
// 手机验证
function is_phone(str)
{
	reg = /^1([38]\d|4[57]|5[012356789]|7[3678])\d{8}$/;
	if(reg.test(str))
		return true;
	else
		return false;
}

// 有效金额
function is_money(str)
{
	reg = /^[123456789]{1}\d{0,11}(\.\d{1,2})?$/;
	if(reg.test(str))
		return true;
	else
		return false;
}

// 身份证号验证
function is_idnum(str)
{
	// 身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X  
    reg = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
	if(reg.test(str))
		return true; 
	else
		return false;
}

// 求和
function sum()
{
	sum = 0;
	for(i=0;i<arguments.length;i++)
	{
		sum += arguments[i];
	}
	return sum;
}

// 表单序列化（对象）
$.fn.serializeObject = function()    
{
	var o = {};
	var a = this.serializeArray();
	$.each(a,function(){
		if( o[this.name] )
		{
			if( !o[this.name].push )
				o[this.name] = [o[this.name]];
			o[this.name].push(this.value || '');
		}
		else
			o[this.name] = this.value || '';
	});
	return o;
};
