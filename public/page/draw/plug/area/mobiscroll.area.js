/**
 * Mobiscroll 三级联动插件
 * 
 * @author shawsam
 * @link http://58adg.com 
 * 
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.mobiscroll=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(e){return"object"===(void 0===e?"undefined":re(e))}function a(e){return"number"==typeof e.length}function n(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function s(e,t,a){for(var n in t)a&&(be.isPlainObject(t[n])||be.isArray(t[n]))?((be.isPlainObject(t[n])&&!be.isPlainObject(e[n])||be.isArray(t[n])&&!be.isArray(e[n]))&&(e[n]={}),s(e[n],t[n],a)):void 0!==t[n]&&(e[n]=t[n])}function r(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function i(e,t){return"number"!=typeof t||me[r(e)]?t:t+"px"}function o(){}function l(e){var t,a=[];for(t in e)a.push(e[t]);return a}function c(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a}function d(e){return e-parseFloat(e)>=0}function m(e){return"string"==typeof e}function u(e,t,a){return Math.max(t,Math.min(e,a))}function h(e,t){var a,n;return t=t||100,function(){var s=this,r=+new Date,i=arguments;a&&r<a+t?(clearTimeout(n),n=setTimeout(function(){a=r,e.apply(s,i)},t)):(a=r,e.apply(s,i))}}function f(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function p(){ke++,setTimeout(function(){ke--},500)}function b(e,t,a){var n=e.originalEvent||e,s=(a?"page":"client")+t;return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0][s]:n.changedTouches&&n.changedTouches[0]?n.changedTouches[0][s]:e[s]}function v(e,t,a,n,s,r){function i(e){u||(n&&e.preventDefault(),u=this,d=b(e,"X"),m=b(e,"Y"),h=!1,f=new Date)}function o(e){u&&!h&&(Math.abs(b(e,"X")-d)>s||Math.abs(b(e,"Y")-m)>s)&&(h=!0)}function l(t){u&&((r&&new Date-f<100||!h)&&(t.preventDefault(),a.call(u,t,e)),u=!1,p())}function c(){u=!1}var d,m,u,h,f,v=se.$,g=v(t);s=s||9,e.settings.tap&&g.on("touchstart.mbsc",i).on("touchcancel.mbsc",c).on("touchmove.mbsc",o).on("touchend.mbsc",l),g.on("click.mbsc",function(t){t.preventDefault(),a.call(this,t,e)})}function g(e){if(ke&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function x(e){var t;for(t in e)if(void 0!==Ve[e[t]])return!0;return!1}function T(e,t){if("touchstart"==e.type)He(t).attr("data-touch","1");else if(He(t).attr("data-touch"))return He(t).removeAttr("data-touch"),!1;return!0}function y(e,t){var a,n=getComputedStyle(e[0]);return He.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),t?a[13]||a[5]:a[12]||a[4]}function w(e,t,a,n,s,r,i){var o=new Date(e,t,a,n||0,s||0,r||0,i||0);return 23==o.getHours()&&0===(n||0)&&o.setHours(o.getHours()+2),o}function _(e,t){var a={},n=e.parent(),s=n.find(".mbsc-err-msg"),r=e.attr("data-icon-align")||"left",i=e.attr("data-icon");n.hasClass(ut)?n=n.parent():He('<span class="'+ut+'"></span>').insertAfter(e).append(e),s&&n.find("."+ut).append(s),i&&(-1!==i.indexOf("{")?a=JSON.parse(i):a[r]=i),(i||t)&&(Ie(a,t),n.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find("."+ut).append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))}function M(e,t,a){var n={},s=a[0],r=a.attr("data-password-toggle"),i=a.attr("data-icon-show")||"eye",o=a.attr("data-icon-hide")||"eye-blocked";r&&(n.right="password"==s.type?i:o),_(a,n),r&&v(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==s.type?(s.type="password",He(this).addClass("mbsc-ic-"+i).removeClass("mbsc-ic-"+o)):(s.type="text",He(this).removeClass("mbsc-ic-"+i).addClass("mbsc-ic-"+o))})}function C(e,t){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").find("label").addClass("mbsc-label"),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){He('<span class="mbsc-label"></span>').insertAfter(this).append(this)}))}function S(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return He.each(t,function(e,a){1==a.length&&(t[e]="0"+a)}),"#"+t.join("")}function k(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function D(e){var t,a,n,s=e.h,r=255*e.s/100,i=255*e.v/100;if(0===r)t=a=n=i;else{var o=i,l=(255-r)*i/255,c=s%60*(o-l)/60;360==s&&(s=0),s<60?(t=o,n=l,a=l+c):s<120?(a=o,n=l,t=o-c):s<180?(a=o,t=l,n=l+c):s<240?(n=o,t=l,a=o-c):s<300?(n=o,a=l,t=l+c):s<360?(t=o,a=l,n=o-c):t=a=n=0}return{r:t,g:a,b:n,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function N(e){var t,a,n=0,s=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),i=r-s;return a=r,t=r?255*i/r:0,n=t?e.r==r?(e.g-e.b)/i:e.g==r?2+(e.b-e.r)/i:4+(e.r-e.g)/i:-1,n*=60,n<0&&(n+=360),t*=100/255,a*=100/255,{h:n,s:t,v:a,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function V(e){var t,a,n=e.r/255,s=e.g/255,r=e.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),l=(i+o)/2;if(i==o)t=a=0;else{var c=i-o;switch(a=l>.5?c/(2-i-o):c/(i+o),i){case n:t=(s-r)/c+(s<r?6:0);break;case s:t=(r-n)/c+2;break;case r:t=(n-s)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*a),l:Math.round(100*l),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function A(e){var t,a,n,s,r,i,o=e.h,l=e.s,c=e.l;return isFinite(o)||(o=0),isFinite(l)||(l=0),isFinite(c)||(c=0),o/=60,o<0&&(o=6- -o%6),o%=6,l=Math.max(0,Math.min(1,l/100)),c=Math.max(0,Math.min(1,c/100)),r=(1-Math.abs(2*c-1))*l,i=r*(1-Math.abs(o%2-1)),o<1?(t=r,a=i,n=0):o<2?(t=i,a=r,n=0):o<3?(t=0,a=r,n=i):o<4?(t=0,a=i,n=r):o<5?(t=i,a=0,n=r):(t=r,a=0,n=i),s=c-r/2,{r:Math.round(255*(t+s)),g:Math.round(255*(a+s)),b:Math.round(255*(n+s)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function F(e){return V(k(e))}function H(e){return S(A(e))}function I(e){return S(D(e))}function O(e){return N(k(e))}function L(e){Dt.length||e.show(),Dt.push(e)}function P(e){var t=Nt.length;Nt.push(e),Dt.length||(t?Nt[0].hide():e.show(!1,!0))}function E(e,t,a,n){return Ie({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onBeforeShow:function(){se.activeInstance=null},onHide:function(e,n){a&&a(n._resolve),t.callback&&t.callback(n._resolve),n&&n.destroy(),Dt.length?Dt[0].show():Nt.length&&Nt[0].show(!1,!0)}},n)}function Y(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function j(e,t,a){L(new St(e,E(Dt,t,a)))}function z(e,t,a){var n=new St(e,E(Dt,t,a,{buttons:["ok","cancel"],onSet:function(){n._resolve=!0}}));n._resolve=!1,L(n)}function W(e,t,a){var n=void 0,s=new St(e,E(Dt,t,a,{buttons:["ok","cancel"],onShow:function(){n=s._markup.find("input")[0],setTimeout(function(){n.focus()},300)},onSet:function(){s._resolve=n.value}}));s._resolve="",L(s)}function J(e,t,a,n,s){var r=void 0;P(new St(e,E(Nt,t,a,{display:"bottom",animate:s,cssClass:n||"mbsc-snackbar",scrollLock:!1,focusTrap:!1,buttons:[],onShow:function(e,a){!1!==t.duration&&(r=setTimeout(function(){a&&a.hide()},t.duration||3e3)),t.button&&a.tap(He(".mbsc-snackbar-btn",e.target),function(){a.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(r)}})))}function $(e,t,a){J(e,t,a,"mbsc-toast","fade")}function R(e,t,a){var n=void 0;return kt?n=new Promise(function(n){e(t,a,n)}):e(t,a),n}function K(e){var t=e[0],a=e.attr("data-role"),n=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|segmented|stepper)/.test(a)&&(n=a),n}function U(e){var t=se.themes.form[e];return t&&t.addRipple?t:null}function B(){clearTimeout(jt),jt=setTimeout(function(){He("textarea.mbsc-control").each(function(){q(this)})},100)}function q(e){var t=void 0,a=void 0,n=void 0,s=He(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",n=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(n>0?n:0),a=Math.round(t/24),a>s?(e.scrollTop=t,t=24*s+(t-24*a),He(e).addClass("mbsc-textarea-scroll")):He(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function G(e){if(!He(e).hasClass("mbsc-textarea-scroll")){var t=e.scrollHeight-e.offsetHeight,a=e.offsetHeight+t;e.scrollTop=0,e.style.height=a+"px"}}function X(e){for(var t=0,a=1,n=0;e.length;)t>3?a=3600:t>1&&(a=60),n+=e.pop()*a*(t%2?10:1),t++;return n}function Z(e,t){var a=document.createElement("script"),n="mbscjsonp"+ ++Fa;window[n]=function(e){a.parentNode.removeChild(a),delete window[n],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+n,document.body.appendChild(a)}function Q(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function ee(e,t,a){"jsonp"==a?Z(e,t):Q(e,t)}function te(e,t){var a=b(t,"X",!0),n=b(t,"Y",!0),s=e.offset(),r=a-s.left,i=n-s.top,o=Math.max(r,e[0].offsetWidth-r),l=Math.max(i,e[0].offsetHeight-i),c=2*Math.sqrt(Math.pow(o,2)+Math.pow(l,2));ae(za),za=He('<span class="mbsc-ripple"></span>').css({width:c,height:c,top:n-s.top-c/2,left:a-s.left-c/2}).appendTo(e),setTimeout(function(){za.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function ae(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function ne(e,t,a,n){var s,r;e.off(".mbsc-ripple").on("touchstart.mbsc-ripple mousedown.mbsc-ripple",t,function(e){T(e,this)&&(s=b(e,"X"),r=b(e,"Y"),ja=He(this),ja.hasClass(a)||ja.hasClass(n)?ja=null:te(ja,e))}).on("touchmove.mbsc-ripple mousemove.mbsc-ripple",t,function(e){(ja&&Math.abs(b(e,"X")-s)>9||Math.abs(b(e,"Y")-r)>9)&&(ae(za),ja=null)}).on("touchend.mbsc-ripple touchcancel.mbsc-ripple mouseleave.mbsc-ripple mouseup.mbsc-ripple",t,function(){ja&&(setTimeout(function(){ae(za)},100),ja=null)})}var se=se||{};var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},oe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),le=function e(t,a,n){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,a);if(void 0===s){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,n)}if("value"in s)return s.value;var i=s.get;if(void 0!==i)return i.call(n)},ce=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},de=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},me={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},ue={readonly:"readOnly"},he=[],fe=Array.prototype.slice,pe=function(){var s=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,o(this)},o=function t(a,n){var r=[],i=0;if(a&&!n&&a instanceof s)return a;if(e(a))return t(document).ready(a);if(a)if("string"==typeof a){var o,l,c;if(a=c=a.trim(),c.indexOf("<")>=0&&c.indexOf(">")>=0){var d="div";for(0===c.indexOf("<li")&&(d="ul"),0===c.indexOf("<tr")&&(d="tbody"),0!==c.indexOf("<td")&&0!==c.indexOf("<th")||(d="tr"),0===c.indexOf("<tbody")&&(d="table"),0===c.indexOf("<option")&&(d="select"),l=document.createElement(d),l.innerHTML=c,i=0;i<l.childNodes.length;i++)r.push(l.childNodes[i])}else for(n||"#"!==a[0]||a.match(/[ .<>:~]/)?(n instanceof s&&(n=n[0]),o=(n||document).querySelectorAll(a)):o=[document.getElementById(a.split("#")[1])],i=0;i<o.length;i++)o[i]&&r.push(o[i])}else if(a.nodeType||a===window||a===document)r.push(a);else if(a.length>0&&a[0].nodeType)for(i=0;i<a.length;i++)r.push(a[i]);else t.isArray(a)&&(r=a);return new s(r)};return s.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(o):document.addEventListener("DOMContentLoaded",function(){e(o)},!1),this},concat:he.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return o(o.map(this,function(t,a){return e.call(t,a,t)}))},slice:function(){return o(fe.apply(this,arguments))},addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&""!==t[a]&&this[n].classList.add(t[a]);return this},removeClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&""!==t[a]&&this[n].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&this[n].classList.toggle(t[a]);return this},closest:function(e,a){var n=this[0],s=!1;for(t(e)&&(s=o(e));n&&!(s?s.indexOf(n)>=0:o.matches(n,e));)n=n!==a&&n.nodeType!==n.DOCUMENT_NODE&&n.parentNode;return o(n)},attr:function(e,t){var a;if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var s in e)this[n][s]=e[s],this[n].setAttribute(s,e[s]);return this}if(this.length)return a=this[0].getAttribute(e),a||""===a?a:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=ue[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var a=0;a<this.length;a++)this[a][e]=t;return this},val:function(e){if(void 0===e)return this.length&&this[0].multiple?o.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)o.each(this[0].options,function(){this.selected=-1!=e.indexOf(this.value)});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(t,a,n,s){function r(e){var t,s,r=e.target;if(o(r).is(a))n.call(r,e);else for(s=o(r).parents(),t=0;t<s.length;t++)o(s[t]).is(a)&&n.call(s[t],e)}function i(e,t,a,n){var s=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:s[1],event:s[0],listener:a,capture:n}),e.addEventListener(s[0],a,n)}var l,c,d=t.split(" ");for(l=0;l<this.length;l++)if(e(a)||!1===a)for(e(a)&&(s=n||!1,n=a),c=0;c<d.length;c++)-1!=d[c].indexOf(".")?i(this[l],d[c],n,s):this[l].addEventListener(d[c],n,s);else for(c=0;c<d.length;c++)this[l].DomLiveListeners||(this[l].DomLiveListeners=[]),this[l].DomLiveListeners.push({listener:n,liveListener:r}),-1!=d[c].indexOf(".")?i(this[l],d[c],r,s):this[l].addEventListener(d[c],r,s);return this},off:function(t,a,n,s){function r(e){var t,a,n,s=e.split("."),r=s[0],i=s[1];for(t=0;t<d.length;++t)if(d[t].DomNameSpaces){for(a=0;a<d[t].DomNameSpaces.length;++a)n=d[t].DomNameSpaces[a],n.namespace!=i||n.event!=r&&r||(d[t].removeEventListener(n.event,n.listener,n.capture),n.removed=!0);for(a=d[t].DomNameSpaces.length-1;a>=0;--a)d[t].DomNameSpaces[a].removed&&d[t].DomNameSpaces.splice(a,1)}}var i,o,l,c,d=this;for(i=t.split(" "),o=0;o<i.length;o++)for(l=0;l<this.length;l++)if(e(a)||!1===a)e(a)&&(s=n||!1,n=a),0===i[o].indexOf(".")?r(i[o].substr(1)):this[l].removeEventListener(i[o],n,s);else{if(this[l].DomLiveListeners)for(c=0;c<this[l].DomLiveListeners.length;c++)this[l].DomLiveListeners[c].listener===n&&this[l].removeEventListener(i[o],this[l].DomLiveListeners[c].liveListener,s);this[l].DomNameSpaces&&this[l].DomNameSpaces.length&&i[o]&&r(i[o])}return this},trigger:function(e,t){for(var a=e.split(" "),n=0;n<a.length;n++)for(var s=0;s<this.length;s++){var r;try{r=new CustomEvent(a[n],{detail:t,bubbles:!0,cancelable:!0})}catch(e){r=document.createEvent("Event"),r.initEvent(a[n],!0,!0),r.detail=t}this[s].dispatchEvent(r)}return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]===document){var t=document.body,a=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth;return["left","right"].forEach(function(a){t-=parseInt(e.css(n("border-"+a+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight;return["top","bottom"].forEach(function(a){t-=parseInt(e.css(n("border-"+a+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.documentElement;return{top:t.top+window.pageYOffset-a.clientTop,left:t.left+window.pageXOffset-a.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function(e,t){var a,n,s=this[0],o="";if(arguments.length<2){if(!s)return;if("string"==typeof e)return s.style[e]||getComputedStyle(s,"").getPropertyValue(e)}if("string"==typeof e)t||0===t?o=r(e)+":"+i(e,t):this.each(function(){this.style.removeProperty(r(e))});else for(n in e)if(e[n]||0===e[n])o+=r(n)+":"+i(n,e[n])+";";else for(a=0;a<this.length;a++)this[a].style.removeProperty(r(n));return this.each(function(){this.style.cssText+=";"+o})},each:function(e){for(var t=0;t<this.length&&!1!==e.apply(this[t],[t,this[t]]);t++);return this},filter:function(t){for(var a=[],n=0;n<this.length;n++)e(t)?t.call(this[n],n,this[n])&&a.push(this[n]):o.matches(this[n],t)&&a.push(this[n]);return new s(a)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&o.matches(this[0],e)},not:function(n){var s=[];if(e(n)&&void 0!==n.call)this.each(function(e){n.call(this,e)||s.push(this)});else{var r="string"==typeof n?this.filter(n):a(n)&&e(n.item)?fe.call(n):o(n);t(r)&&(r=o.map(r,function(e){return e})),this.each(function(e,t){r.indexOf(t)<0&&s.push(t)})}return o(s)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(o(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?fe.call(this):this[e>=0?e:e+this.length]},eq:function(e){if(void 0===e)return this;var t,a=this.length;return e>a-1?new s([]):e<0?(t=a+e,new s(t<0?[]:[this[t]])):new s([this[e]])},append:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof s)for(a=0;a<e.length;a++)this[t].appendChild(e[a]);else this[t].appendChild(e);return this},appendTo:function(e){return o(e).append(this),this},prepend:function(e){var t,a;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e,a=n.childNodes.length-1;a>=0;a--)this[t].insertBefore(n.childNodes[a],this[t].childNodes[0])}else if(e instanceof s)for(a=0;a<e.length;a++)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return o(e).prepend(this),this},insertBefore:function(e){for(var t=o(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0]);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[a].cloneNode(!0),t[n]);return this},insertAfter:function(e){for(var t=o(e),a=0;a<this.length;a++)if(1===t.length)t[0].parentNode.insertBefore(this[a],t[0].nextSibling);else if(t.length>1)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[a].cloneNode(!0),t[n].nextSibling);return this},next:function(e){return new s(this.length>0?e?this[0].nextElementSibling&&o(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],a=this[0];if(!a)return new s([]);for(;a.nextElementSibling;){var n=a.nextElementSibling;e?o(n).is(e)&&t.push(n):t.push(n),a=n}return new s(t)},prev:function(e){return new s(this.length>0?e?this[0].previousElementSibling&&o(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],a=this[0];if(!a)return new s([]);for(;a.previousElementSibling;){var n=a.previousElementSibling;e?o(n).is(e)&&t.push(n):t.push(n),a=n}return new s(t)},parent:function(e){for(var t=[],a=0;a<this.length;a++)null!==this[a].parentNode&&(e?o(this[a].parentNode).is(e)&&t.push(this[a].parentNode):t.push(this[a].parentNode));return o(o.unique(t))},parents:function(e){for(var t=[],a=0;a<this.length;a++)for(var n=this[a].parentNode;n;)e?o(n).is(e)&&t.push(n):t.push(n),n=n.parentNode;return o(o.unique(t))},find:function(e){for(var t=[],a=0;a<this.length;a++)for(var n=this[a].querySelectorAll(e),r=0;r<n.length;r++)t.push(n[r]);return new s(t)},children:function(e){for(var t=[],a=0;a<this.length;a++)for(var n=this[a].childNodes,r=0;r<n.length;r++)e?1===n[r].nodeType&&o(n[r]).is(e)&&t.push(n[r]):1===n[r].nodeType&&t.push(n[r]);return new s(o.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,a=this;for(e=0;e<arguments.length;e++){var n=o(arguments[e]);for(t=0;t<n.length;t++)a[a.length]=n[t],a.length++}return a},before:function(e){return o(e).insertBefore(this),this},after:function(e){return o(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return fe.call(t.childNodes)})},nextUntil:function(e){for(var t=this,a=[];t.length&&!t.filter(e).length;)a.push(t[0]),t=t.next();return o(a)},prevUntil:function(e){for(var t=this,a=[];t.length&&!o(t).filter(e).length;)a.push(t[0]),t=t.prev();return o(a)},detach:function(){return this.remove()}},o.fn=s.prototype,o}(),be=pe;se.$=pe,be.inArray=function(e,t,a){return he.indexOf.call(t,e,a)},be.extend=function(e){var t,a=fe.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),e=e||{},a.forEach(function(a){s(e,a,t)}),e},be.isFunction=e,be.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},be.isPlainObject=function(e){return t(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},be.each=function(e,a){var n,s;if(t(e)&&a){if(be.isArray(e)||e instanceof pe)for(n=0;n<e.length&&!1!==a.call(e[n],n,e[n]);n++);else for(s in e)if(e.hasOwnProperty(s)&&"length"!==s&&!1===a.call(e[s],s,e[s]))break;return this}},be.unique=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},be.map=function(e,t){var n,s,r,i=[];if(a(e))for(s=0;s<e.length;s++)null!==(n=t(e[s],s))&&i.push(n);else for(r in e)null!==(n=t(e[r],r))&&i.push(n);return i.length>0?be.fn.concat.apply([],i):i},be.matches=function(e,t){return!(!t||!e||1!==e.nodeType)&&(e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).call(e,t)},se.presetShort=function(e,t,a){se[e]=function(n,s){var r,i,o={},l=s||{};return be.extend(l,{preset:!1===a?void 0:e}),be(n).each(function(){r=new se.classes[t||"Scroller"](this,l),o[this.id]=r}),i=Object.keys(o),1==i.length?o[i[0]]:o}};var ve,ge,xe,Te,ye=[],we="undefined"!=typeof window,_e=we?navigator.userAgent:"",Me=_e.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),Ce=we&&window.requestAnimationFrame||function(e){e()},Se=we&&window.cancelAnimationFrame||function(){};/Android/i.test(Me)?(ve="android",(ge=_e.match(/Android\s+([\d\.]+)/i))&&(ye=ge[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Me)?(ve="ios",(ge=_e.match(/OS\s+([\d\_]+)/i))&&(ye=ge[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Me)?ve="wp":/Windows|MSIE/i.test(Me)&&(ve="windows"),xe=ye[0],Te=ye[1];var ke=0;we&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,g,!0)}),"android"==ve&&xe<5&&document.addEventListener("change",function(e){ke&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var De;!function(){function e(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)ASP.NET_SessionId\s*\=\s*([^;]*).*$)|^.*$/,"$1");document.cookie="mobiscrollClientError=1; expires="+new Date((new Date).getTime()+864e5).toUTCString()+"; path=/";try{window.name=(window.name||"")+";mobiscrollClientError"}catch(e){}t("error",{trialCode:a.apiKey,sessionID:e},function(){document.cookie="mobiscrollClientError=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";try{window.name=(window.name||"").replace(/;mobiscrollClientError/g,"")}catch(e){}})}var a,n=se.$,s=+new Date,r={},i=n.extend;a=i(se,{$:n,version:"3.2.5",dtdDV:true,util:{preventClick:p,vibrate:f},autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:ve,majorVersion:xe,minorVersion:Te},i18n:{},instances:r,classes:{},components:{},settings:{},setDefaults:function(e){i(this.settings,e)},customTheme:function(e,t){var a,n=se.themes,s=["frame","scroller","listview","menustrip","form","progress"];for(a=0;a<s.length;a++)n[s[a]][e]=i({},n[s[a]][t],{baseTheme:t})}}),a.presetShort=a.presetShort||function(){},De=function(e,l){var c,d,m,u,h,f,p,b=this;b.settings={},b._init=o,b._destroy=o,b._processSettings=o,b.init=function(t){var s;for(s in b.settings)delete b.settings[s];if(m=b.settings,i(l,t),b._hasDef&&(p=a.settings),i(m,b._defaults,p,l),b._hasTheme&&(h=m.theme,"auto"!=h&&h||(h=a.autoTheme),"default"==h&&(h="mobiscroll"),l.theme=h,u=a.themes[b._class]?a.themes[b._class][h]:{}),b._hasLang&&(c=a.i18n[m.lang]),b._hasTheme&&f("onThemeLoad",{lang:c,settings:l}),i(m,u,c,p,l),b._processSettings(),{form:!0,page:!0,scrollview:!0,progress:!0,progressbase:!0,switch:!0,slider:!0,sliderbase:!0,stepper:!0}[b._class])b._init(t),f("onInit");else{var r,o,v={className:b._class,buttons:b.buttons,platform:a.platform,userAgent:navigator.userAgent,defSortHandle:n(e).find(m.listSelector||"ul,ol").length?"left":"right",settings:{activeClass:m.activeClass,ampmText:m.ampmText,amText:m.amText,animateIcons:m.animateIcons,backText:m.backText,baseTheme:m.baseTheme,buttons:m.buttons,btnClass:m.btnClass,btnWidth:m.btnWidth,closeIcon:m.closeIcon,context:"body"==m.context?"body":"",controls:m.controls,cssClass:m.cssClass,dateDisplay:m.dateDisplay,dateFormat:m.dateFormat,dateWheels:m.dateWheels,dayNames:m.dayNames,dayNamesShort:m.dayNamesShort,daySuffix:m.daySuffix,display:m.display,dayText:m.dayText,endYear:m.endYear,fixedHeader:m.fixedHeader,handleClass:m.handleClass,handleMarkup:m.handleMarkup,hideText:m.hideText,hourText:m.hourText,itemNode:m.itemNode,itemWidth:m.itemWidth,lang:m.lang,lapIcon:m.lapIcon,lapText:m.lapText,layout:m.layout,leftArrowClass:m.leftArrowClass,max:m.max,min:m.min,minuteText:m.minuteText,monthNames:m.monthNames,monthNamesShort:m.monthNamesShort,monthSuffix:m.monthSuffix,monthText:m.monthText,nowIcon:m.nowIcon,nowText:m.nowText,pmText:m.pmText,preset:m.preset,resetIcon:m.resetIcon,resetText:m.resetText,rightArrowClass:m.rightArrowClass,rtl:m.rtl,secText:m.secText,select:m.select,snap:m.snap,sort:m.sort,sortable:m.sortable,sortHandle:m.sortHandle,startIcon:m.startIcon,startText:m.startText,startYear:m.startYear,stepHour:m.stepHour,stepMinute:m.stepMinute,stepSecond:m.stepSecond,steps:m.steps,stopIcon:m.stopIcon,stopText:m.stopText,striped:m.striped,theme:m.theme,timeFormat:m.timeFormat,timeWheels:m.timeWheels,todayText:m.todayText,type:m.type,variant:m.variant,wrapperClass:m.wrapperClass,yearSuffix:m.yearSuffix,yearText:m.yearText}},g=[],x={},T=["refresh","redraw","navigate","showMonthView","changeTab","addValue","removeValue","getDate","setDate","addEvent","removeEvent","getEvents","setEvents","setActiveDate","start","stop","reset","lap","resetlap","getTime","setTime","getEllapsedTime","setEllapsedTime"],y={jsonp:1,getInst:1,init:1,destroy:1},w=function(e){b[e]=function(){g.push({func:e,args:arguments})}};for(o in b)"function"!=typeof b[o]||y[o]||(x[o]=b[o],w(o));for(r=0;r<T.length;r++)w(T[r]);"timer"!=m.preset||l.buttons||(v.settings.buttons=["toggle","resetlap"],"inline"!==m.display&&v.settings.buttons.push("hide")),"eventcalendar"!=m.preset||l.buttons||"inline"==m.display||(v.settings.buttons=["close"]);for(o in x)b[o]=x[o];var s=i({},l);for(delete s.data,b._hasPreset&&(d=a.presets[b._class][m.preset])&&(d=d.call(e,b),i(m,d,s)),b._init(t),f("onInit"),r=0;r<g.length;r++){b[g[r].func].apply(b,g[r].args)}g=null,x=null}},b.destroy=function(){b&&(b._destroy(),f("onDestroy"),delete r[e.id],b=null)},b.tap=function(e,t,a,n,s){v(b,e,t,a,n,s)},b.trigger=function(t,a){var n,s,r,i=[p,u,d,l];for(s=0;s<4;s++)(r=i[s])&&r[t]&&(n=r[t].call(e,a||{},b));return n},b.option=function(e,t){var a={};"object"===(void 0===e?"undefined":re(e))?a=e:a[e]=t,b.init(a)},b.getInst=function(){return b},b.zone={run:function(e){e()}},l=l||{},f=b.trigger,b.__ready||function(){n(e).addClass("mbsc-comp"),e.id?r[e.id]&&r[e.id].destroy():e.id="mobiscroll"+ ++s,r[e.id]=b,b.__ready=!0}()},we&&n(function(){(document.cookie.replace(/(?:(?:^|.*;\s*)mobiscrollClientError\s*\=\s*([^;]*).*$)|^.*$/,"$1")||/mobiscrollClientError/.test(window.name||""))&&e()})}();var Ne,Ve,Ae,Fe,He=se.$,Ie=He.extend;we&&(Ve=document.createElement("modernizr").style,Ae=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(x([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),Fe=Ae.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),Ne=void 0!==Ve.animation?"animationend":"webkitAnimationEnd");var Le,Pe,Ee=se.classes,Ye=se.themes,je=/(iphone|ipod)/i.test(_e)&&xe>=7,ze="android"==ve,We="ios"==ve,Je=We&&8==xe,$e=We&&xe>7,Re=function(e){e.preventDefault()},Ke=function(e,t,a){function n(e){V&&V.removeClass("mbsc-fr-btn-a"),V=He(this),V.hasClass("mbsc-fr-btn-d")||V.hasClass("mbsc-fr-btn-nhl")||V.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?He(document).on("mouseup",s):"pointerdown"===e.type&&He(document).on("pointerup",s)}function s(e){V&&(V.removeClass("mbsc-fr-btn-a"),V=null),"mouseup"===e.type?He(document).off("mouseup",s):"pointerup"===e.type&&He(document).off("pointerup",s)}function r(e){13==e.keyCode?Q.select():27==e.keyCode&&Q.cancel()}function i(e){e||ze||z.focus(),Q.ariaMessage(R.ariaMessage)}function l(e){var t=Le,a=R.focusOnClose;Q._markupRemove(),_.remove(),I&&(A.mbscModals--,R.scrollLock&&A.mbscLock--,A.mbscLock||w.removeClass("mbsc-fr-lock"),A.mbscModals||(w.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),j&&(T.css({top:"",left:""}),k.scrollLeft(K),k.scrollTop(B)),e||(t||(t=ee),setTimeout(function(){void 0===a||!0===a?(Pe=!0,t[0].focus()):a&&He(a)[0].focus()},200)))),Q._isVisible=!1,O=!1,G("onHide")}function c(e){clearTimeout(ae[e.type]),ae[e.type]=setTimeout(function(){var t="scroll"==e.type;t&&!U||(Q.position(!t),"orientationchange"==e.type&&(W.style.display="none",W.offsetHeight,W.style.display=""))},200)}function d(e){e.target.nodeType&&!z.contains(e.target)&&z.focus()}function h(e,t){e&&e(),!1!==Q.show()&&(Le=t)}function f(){Q._fillValue(),G("onSet",{valueText:Q._value})}function v(){G("onCancel",{valueText:Q._value})}function g(){Q.setVal(null,!0)}var x,T,y,w,_,M,C,S,k,D,N,V,A,F,H,I,O,L,P,E,Y,j,z,W,J,$,R,K,U,B,q,G,X,Z,Q=this,ee=He(e),te=[],ae={};De.call(this,e,t,!0),Q.position=function(e){var t,a,n,s,r,i,o,l,c,d,m,h,f,p,b,v,g={},x=0,y=0,w=0,M=0;!$&&O&&(Q._position(_),h=L.offsetHeight,f=L.offsetWidth,X===f&&Z===h&&e||(Q._isFullScreen||/top|bottom/.test(R.display)?S.width(f):D.width(""),!1!==G("onPosition",{target:L,windowWidth:f,windowHeight:h})&&I&&(He(".mbsc-comp",_).each(function(){var e=se.instances[this.id];e&&e!==Q&&e.position&&e.position()}),!Q._isFullScreen&&/center|bubble/.test(R.display)&&(He(".mbsc-w-p",_).each(function(){p=this.getBoundingClientRect().width,M+=p,w=p>w?p:w}),D.css({width:Q._isLiquid?Math.min(R.maxPopupWidth,f-16):Math.ceil(M>f?w:M),"white-space":M>f?"":"nowrap"})),P=W.offsetWidth,E=W.offsetHeight,U=E<=h&&P<=f,Y&&(x=k.scrollLeft(),y=k.scrollTop()),"center"==R.display?(v=Math.max(0,x+(f-P)/2),b=Math.max(0,y+(h-E)/2)):"bubble"==R.display?(t=void 0===R.anchor?ee:He(R.anchor),o=He(".mbsc-fr-arr-i",_)[0],s=t.offset(),r=s.top+(H?y-T.offset().top:0),i=s.left+(H?x-T.offset().left:0),a=t[0].offsetWidth,n=t[0].offsetHeight,l=o.offsetWidth,c=o.offsetHeight,v=u(i-(P-a)/2,x+8,x+f-P-8),b=r-E-c/2,b<y||r>y+h?(S.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),b=r+n+c/2):S.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),He(".mbsc-fr-arr",_).css({left:u(i+a/2-(v+(P-l)/2),0,l)}),U=b>y&&v>x&&b+E<=y+h&&v+P<=x+f):(v=x,b="top"==R.display?y:Math.max(0,y+h-E)),Y&&(d=Math.max(b+E,H?A.scrollHeight:He(document).height()),m=Math.max(v+P,H?A.scrollWidth:He(document).width()),C.css({width:m,height:d}),R.scroll&&"bubble"==R.display&&(b+E+8>y+h||r>y+h||r+n<y)&&($=!0,setTimeout(function(){$=!1},300),k.scrollTop(Math.min(r,b+E-h+8,d-h)))),g.top=Math.floor(b),g.left=Math.floor(v),S.css(g),X=f,Z=h)))},Q.attachShow=function(e,t){var a,n=He(e),s=n.prop("readonly");if("inline"!==R.display){if((R.showOnFocus||R.showOnTap)&&n.is("input,select")&&(n.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){Q._isVisible&&this.blur()}),a=He('label[for="'+n.attr("id")+'"]'),a.length||(a=n.closest("label"))),n.is("select"))return;R.showOnFocus&&n.on("focus.mbsc",function(){Pe?Pe=!1:h(t,n)}),R.showOnTap&&(n.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),h(t,n))}),Q.tap(n,function(){h(t,n)}),a&&a.length&&Q.tap(a,function(){h(t,n)})),te.push({readOnly:s,el:n,lbl:a})}},Q.select=function(){I?Q.hide(!1,"set",!1,f):f()},Q.cancel=function(){I?Q.hide(!1,"cancel",!1,v):v()},Q.clear=function(){Q._clearValue(),G("onClear"),I&&Q._isVisible&&!Q.live?Q.hide(!1,"clear",!1,g):g()},Q.enable=function(){R.disabled=!1,Q._isInput&&ee.prop("disabled",!1)},Q.disable=function(){R.disabled=!0,Q._isInput&&ee.prop("disabled",!0)},Q.gethtml=function(){var o="";if(N.length>0){o+='<div class="mbsc-fr-btn-cont">';He.each(N,function(i,b){b=m(b)?Q.buttons[b]:b;if(b.handler==="set"){b.parentClass="mbsc-fr-btn-s"}if(b.handler==="cancel"){b.parentClass="mbsc-fr-btn-c"}o+="<div"+(R.btnWidth?' style="width:'+100/N.length+'%"':"")+' class="mbsc-fr-btn-w '+(b.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+i+" mbsc-fr-btn-e "+(b.cssClass===undefined?R.btnClass:b.cssClass)+(b.icon?" mbsc-ic mbsc-ic-"+b.icon:"")+'">'+(b.text||"")+"</div></div>"});o+="</div>"}o+="</div></div></div></div>"+(I?"</div></div>":"");return o},Q.show=function(e,t){function a(){_.off(Ne,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+F).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+F),i(t)}var o;if(!R.disabled&&!Q._isVisible){if(Q._readValue(),!1===G("onBeforeShow"))return!1;if(Le=null,F=R.animate,N=R.buttons||[],Y=H||"bubble"==R.display,j=je&&!Y&&R.scrollLock,N.length>0,q=!1,!1!==F&&("top"==R.display?F=F||"slidedown":"bottom"==R.display?F=F||"slideup":"center"!=R.display&&"bubble"!=R.display||(F=F||"pop")),I&&(B=Math.max(0,k.scrollTop()),K=Math.max(0,k.scrollLeft()),X=0,Z=0,j&&!w.hasClass("mbsc-fr-lock-ios")&&T.css({top:-B+"px",left:-K+"px"}),w.addClass((R.scrollLock?"mbsc-fr-lock":"")+(j?" mbsc-fr-lock-ios":"")+(H?" mbsc-fr-lock-ctx":"")),He(document.activeElement).is("input,textarea")&&document.activeElement.blur(),se.activeInstance&&se.activeInstance.hide(),se.activeInstance=Q,A.mbscModals=A.mbscModals||0,A.mbscLock=A.mbscLock||0,A.mbscModals++,R.scrollLock&&A.mbscLock++),o='<div lang="'+R.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+R.theme+(R.baseTheme?" mbsc-"+R.baseTheme:"")+" mbsc-fr-"+R.display+" "+(R.cssClass||"")+" "+(R.compClass||"")+(Q._isLiquid?" mbsc-fr-liq":"")+($e?" mbsc-fr-hb":"")+(N.length>0?N.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(I?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(R.rtl?" mbsc-rtl":" mbsc-ltr")+(R.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===R.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w">'+'<div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(R.headerText?'<div class="mbsc-fr-hdr">'+(m(R.headerText)?R.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',o+=Q._generateContent(),o+="</div>",o+=Q.gethtml(),_=He(o),C=He(".mbsc-fr-persp",_),M=He(".mbsc-fr-scroll",_),D=He(".mbsc-fr-w",_),y=He(".mbsc-fr-hdr",_),S=He(".mbsc-fr-popup",_),x=He(".mbsc-fr-aria",_),L=_[0],z=M[0],W=S[0],Q._markup=_,Q._header=y,Q._isVisible=!0,J="orientationchange resize",Q._markupReady(_),G("onMarkupReady",{target:L}),I){if(He(window).on("keydown",r),R.scrollLock&&_.on("touchmove mousewheel wheel",function(e){U&&e.preventDefault()}),R.focusTrap&&k.on("focusin",d),R.closeOnOverlayTap){var l,u,h,f;M.on("touchstart mousedown",function(e){u||e.target!=M[0]||(u=!0,l=!1,h=b(e,"X"),f=b(e,"Y"))}).on("touchmove mousemove",function(e){u&&!l&&(Math.abs(b(e,"X")-h)>9||Math.abs(b(e,"Y")-f)>9)&&(l=!0)}).on("touchcancel",function(){u=!1}).on("touchend touchcancel mouseup",function(e){u&&!l&&(Q.cancel(),"mouseup"!=e.type&&p()),u=!1})}Y&&(J+=" scroll")}setTimeout(function(){if(I)_.appendTo(T);else if(ee.is("div")&&!Q._hasContent)ee.empty().append(_);else if(ee.hasClass("mbsc-control")){var r=ee.closest(".mbsc-control-w");_.insertAfter(r),r.hasClass("mbsc-select")&&r.addClass("mbsc-select-inline")}else _.insertAfter(ee);O=!0,Q._markupInserted(_),G("onMarkupInserted",{target:L}),_.on("selectstart mousedown",Re).on("click",".mbsc-fr-btn-e",Re).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&I&&R.focusTrap){var t=_.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(He(":focus",_)),n=t.length-1,s=0;e.shiftKey&&(n=0,s=-1),a===n&&(t.eq(s)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",s),He("input,select,textarea",_).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),L.addEventListener("touchstart",function(){q||(q=!0,T.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),He.each(N,function(e,t){Q.tap(He(".mbsc-fr-btn"+e,_),function(e){t=m(t)?Q.buttons[t]:t,(m(t.handler)?Q.handlers[t.handler]:t.handler).call(this,e,Q)},!0)}),Q._attachEvents(_),Q.position(),k.on(J,c),I&&(F&&!e?_.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+F).on(Ne,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+F):i(t)),G("onShow",{target:L,valueText:Q._tempValue})},j?100:0)}},Q.hide=function(e,t,a,n){function s(){_.off(Ne,s),l(e)}if(!Q._isVisible||!a&&!Q._isValid&&"set"==t||!a&&!1===G("onBeforeClose",{valueText:Q._tempValue,button:t}))return!1;I&&(He(document.activeElement).is("input,textarea")&&W.contains(document.activeElement)&&document.activeElement.blur(),He(window).off("keydown",r),delete se.activeInstance),_&&(I&&F&&!e?_.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+F).on(Ne,s).find(".mbsc-fr-popup").addClass("mbsc-anim-"+F):l(e),Q._detachEvents(_),k.off(J,c).off("focusin",d)),n&&n(),ee.trigger("blur"),G("onClose",{valueText:Q._value})},Q.ariaMessage=function(e){x.html(""),setTimeout(function(){x.html(e)},100)},Q.isVisible=function(){return Q._isVisible},Q.setVal=o,Q.getVal=o,Q._generateContent=o,Q._attachEvents=o,Q._detachEvents=o,Q._readValue=o,Q._clearValue=o,Q._fillValue=o,Q._markupReady=o,Q._markupInserted=o,Q._markupRemove=o,Q._position=o,Q.__processSettings=o,Q.__init=o,Q.__destroy=o,Q._destroy=function(){Q.hide(!0,!1,!0),ee.off(".mbsc"),He.each(te,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),Q.__destroy()},Q._processSettings=function(){var e,t;for(Q.__processSettings(),R.buttons=R.buttons||("inline"!==R.display?["set","cancel"]:[]),R.headerText=void 0===R.headerText?"inline"!==R.display&&"{value}":R.headerText,N=R.buttons||[],I="inline"!==R.display,H="body"!=R.context,T=He(R.context),w=H?T:He("body,html"),A=T[0],Q._window=k=He(H?R.context:window),Q.live=!0,t=0;t<N.length;t++)"ok"!=(e=N[t])&&"set"!=e&&"set"!=e.handler||(Q.live=!1);Q.buttons.set={text:R.setText,icon:R.setIcon,handler:"set"},Q.buttons.cancel={text:R.cancelText,icon:R.cancelIcon,handler:"cancel"},Q.buttons.close={text:R.closeText,icon:R.closeIcon,handler:"cancel"},Q.buttons.clear={text:R.clearText,icon:R.clearIcon,handler:"clear"},Q._isInput=ee.is("input")},Q._init=function(){Q._isVisible&&Q.hide(!0,!1,!0),ee.off(".mbsc"),Q.__init(),Q._isLiquid="liquid"==R.layout,I?(Q._readValue(),Q._hasContent||Q.attachShow(ee)):Q.show(),ee.on("change.mbsc",function(){Q._preventChange||Q.setVal(ee.val(),!0,!1),Q._preventChange=!1})},Q.buttons={},Q.handlers={set:Q.select,cancel:Q.cancel,clear:Q.clear},Q._value=null,Q._isValid=!0,Q._isVisible=!1,R=Q.settings,G=Q.trigger,a||Q.init(t)};Ke.prototype._defaults={lang:"en",setText:"确定",selectedText:"{count} selected",closeText:"Close",cancelText:"取消",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:ze||We,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!Je},Ee.Frame=Ke;Ye.frame.mobiscroll={headerText:!1,btnWidth:!1},Ye.scroller.mobiscroll=Ie({},Ye.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),we&&He(window).on("focus",function(){Le&&(Pe=!0)});var Ue=se.classes,Be="ios"==ve,qe=function(e,t,a){function n(e){G("onStart",{domEvent:e}),ae.stopProp&&e.stopPropagation(),(ae.prevDef||"mousedown"==e.type)&&e.preventDefault(),ae.readonly||ae.lock&&H||T(e,this)&&!F&&se.dtdDV&&(h&&h.removeClass("mbsc-btn-a"),D=!1,H||(h=He(e.target).closest(".mbsc-btn-e",this),h.length&&!h.hasClass("mbsc-btn-d")&&(D=!0,f=setTimeout(function(){h.addClass("mbsc-btn-a")},100))),F=!0,P=!1,I=!1,Q.scrolled=H,$=b(e,"X"),R=b(e,"Y"),C=$,v=0,g=0,x=0,J=new Date,W=+y(U,X)||0,H&&c(W,Be?0:1),"mousedown"===e.type&&He(document).on("mousemove",s).on("mouseup",i))}function s(e){F&&(ae.stopProp&&e.stopPropagation(),C=b(e,"X"),S=b(e,"Y"),v=C-$,g=S-R,x=X?g:v,D&&(Math.abs(g)>ae.thresholdY||Math.abs(v)>ae.thresholdX)&&(clearTimeout(f),h.removeClass("mbsc-btn-a"),D=!1),(Q.scrolled||!I&&Math.abs(x)>q)&&(P||G("onGestureStart",k),Q.scrolled=P=!0,L||(L=!0,O=Ce(r))),X||ae.scrollLock?e.preventDefault():Q.scrolled?e.preventDefault():Math.abs(g)>7&&(I=!0,Q.scrolled=!0,ne.trigger("touchend")))}function r(){V&&(x=u(x,-j*V,j*V)),c(u(W+x,A-M,N+M)),L=!1}function i(e){if(F){var t,a=new Date-J;ae.stopProp&&e.stopPropagation(),Se(O),L=!1,!I&&Q.scrolled&&(ae.momentum&&a<300&&(t=x/a,x=Math.max(Math.abs(x),t*t/ae.speedUnit)*(x<0?-1:1)),l(x)),D&&(clearTimeout(f),h.addClass("mbsc-btn-a"),setTimeout(function(){h.removeClass("mbsc-btn-a")},100),I||Q.scrolled||G("onBtnTap",{target:h[0]})),"mouseup"==e.type&&He(document).off("mousemove",s).off("mouseup",i),F=!1}}function o(e){if(e=e.originalEvent||e,x=X?e.deltaY||e.wheelDelta||e.detail:e.deltaX,G("onStart",{domEvent:e}),ae.stopProp&&e.stopPropagation(),x&&se.dtdDV){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(x*=5),x=u(-x,-20,20),W=Z,ae.readonly||W+x<A||W+x>N)return;P||(k={posX:X?0:Z,posY:X?Z:0,originX:X?0:W,originY:X?W:0,direction:x>0?X?270:360:X?90:180},G("onGestureStart",k)),L||(L=!0,O=Ce(r)),P=!0,clearTimeout(E),E=setTimeout(function(){Se(O),L=!1,P=!1,l(x)},200)}}function l(e){var t,a,n;if(V&&(e=u(e,-j*V,j*V)),n=u(Math.round((W+e)/j)*j,A,N),ee=Math.round(n/j),z){if(e<0){for(t=z.length-1;t>=0;t--)if(Math.abs(n)+p>=z[t].breakpoint){ee=t,te=2,n=z[t].snap2;break}}else if(e>=0)for(t=0;t<z.length;t++)if(Math.abs(n)<=z[t].breakpoint){ee=t,te=1,n=z[t].snap1;break}n=u(n,A,N)}a=ae.time||(Z<A||Z>N?1e3:Math.max(1e3,Math.abs(n-Z)*ae.timeUnit)),k.destinationX=X?0:n,k.destinationY=X?n:0,k.duration=a,k.transitionTiming=_,G("onGestureEnd",k),c(n,a)}function c(e,t,a,n){var s=e!=Z,r=t>1,i=function(){clearInterval(Y),clearTimeout(B),H=!1,Z=e,k.posX=X?0:e,k.posY=X?e:0,s&&G("onMove",k),r&&G("onAnimationEnd",k),n&&n()};k={posX:X?0:Z,posY:X?Z:0,originX:X?0:W,originY:X?W:0,direction:e-Z>0?X?270:360:X?90:180},Z=e,r&&(k.destinationX=X?0:e,k.destinationY=X?e:0,k.duration=t,k.transitionTiming=_,G("onAnimationStart",k)),K[Fe+"Transition"]=t?Ae+"transform "+Math.round(t)+"ms "+_:"",K[Fe+"Transform"]="translate3d("+(X?"0,"+e+"px,":e+"px,0,")+"0)",!s&&!H||!t||t<=1?i():t&&(H=!a,clearInterval(Y),Y=setInterval(function(){var t=+y(U,X)||0;k.posX=X?0:t,k.posY=X?t:0,G("onMove",k),Math.abs(t-e)<2&&i()},100),clearTimeout(B),B=setTimeout(function(){i()},t)),ae.sync&&ae.sync(e,t,_)}var h,f,p,v,g,x,w,_,M,C,S,k,D,N,V,A,F,H,I,O,L,P,E,Y,j,z,W,J,$,R,K,U,B,q,G,X,Z,Q=this,ee=0,te=1,ae=t,ne=He(e);De.call(this,e,t,!0),Q.scrolled=!1,Q.scroll=function(t,a,n,s){t=d(t)?Math.round(t/j)*j:Math.ceil((He(t,e).length?Math.round(U.offset()[w]-He(t,e).offset()[w]):Z)/j)*j,t=u(t,A,N),ee=Math.round(t/j),W=Z,c(t,a,n,s)},Q.refresh=function(e){var t;p=void 0===ae.contSize?X?ne.height():ne.width():ae.contSize,A=void 0===ae.minScroll?Math.min(0,X?p-U.height():p-U.width()):ae.minScroll,N=void 0===ae.maxScroll?0:ae.maxScroll,z=null,!X&&ae.rtl&&(t=N,N=-A,A=-t),m(ae.snap)&&(z=[],U.find(ae.snap).each(function(){var e=X?this.offsetTop:this.offsetLeft,t=X?this.offsetHeight:this.offsetWidth;z.push({breakpoint:e+t/2,snap1:-e,snap2:p-e-t})})),j=d(ae.snap)?ae.snap:1,V=ae.snap?ae.maxSnapScroll:0,_=ae.easing,M=ae.elastic?d(ae.snap)?j:d(ae.elastic)?ae.elastic:0:0,void 0===Z&&(Z=ae.initialPos,ee=Math.round(Z/j)),e||Q.scroll(ae.snap?z?z[ee]["snap"+te]:ee*j:Z)},Q._processSettings=function(){X="Y"==ae.axis,w=X?"top":"left",U=ae.moveElement||ne.children().eq(0),K=U[0].style,q=X?ae.thresholdY:ae.thresholdX},Q._init=function(){Q.refresh(),ne.on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",i),ae.mousewheel&&ne.on("wheel mousewheel",o),e.addEventListener&&e.addEventListener("click",function(e){Q.scrolled&&(Q.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},Q._destroy=function(){clearInterval(Y),ne.off("touchstart mousedown",n).off("touchmove",s).off("touchend touchcancel",i).off("wheel mousewheel",o)},ae=Q.settings,G=Q.trigger,a||Q.init(t)};qe.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},Ue.ScrollView=qe,se.presetShort("scrollview","ScrollView",!1);var Ge=we?window.CSS:null,Xe=ve=="ios"&&se.platform.majorVersion<8,Ze=Xe||"wp"==ve||"android"==ve;se.presetShort("scroller","Scroller",!1);var Qe=function(e,t,a){function n(e){var t=+He(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),T(e,this)&&!y(t)&&(A=He(this).addClass("mbsc-sc-btn-a"),j=b(e,"X"),z=b(e,"Y"),E=!0,Y=!1,setTimeout(function(){v(t,"inc"==A.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&He(document).on("mousemove",s).on("mouseup",r))}function s(e){(Math.abs(j-b(e,"X"))>7||Math.abs(z-b(e,"Y"))>7)&&g(!0)}function r(e){g(),e.preventDefault(),"mouseup"===e.type&&He(document).off("mousemove",s).off("mouseup",r)}function i(e){var t,a,n=He(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,c(n,q[n]._$markup.find('.mbsc-sc-itm[data-val="'+W[n]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),a&&!E&&(E=!0,Y=!1,v(n,a)))}function o(){g()}function c(e,t){var a=q[e],n=t.attr("data-index"),s=p(a,n),r=Q._tempSelected[e],i=d(a.multiple)?a.multiple:1/0;!1!==U("onItemTap",{target:t[0],index:e,value:s,selected:t.hasClass("mbsc-sc-itm-sel")})&&(a.multiple&&!a._disabled[s]&&(void 0!==r[s]?(t.removeClass(O).removeAttr("aria-selected"),delete r[s]):(1==i&&(Q._tempSelected[e]=r={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(O).removeAttr("aria-selected")),l(r).length<i&&(t.addClass(O).attr("aria-selected","true"),r[s]=s))),D(a,e,n,Z,!0,!0,a.multiple),!Q.live||a.multiple||!0!==K.setOnTap&&!K.setOnTap[e]||setTimeout(function(){Q.select()},200))}function m(e,t){return(e._array?e._map[t]:e.getIndex(t,Q))||0}function u(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?He(a).get(t%e._length):a[t]:He.isFunction(a)?a(t,Q):""}function h(e){return He.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function f(e){var t=He.isPlainObject(e)?e.display:e;return void 0===t?"":t}function p(e,t){return h(u(e,t))}function v(e,t){Y||x(e,t),E&&se.dtdDV&&(clearInterval(P),P=setInterval(function(){x(e,t)},K.delay))}function g(e){clearInterval(P),Y=e,E=!1,A&&A.removeClass("mbsc-sc-btn-a")}function x(e,t){var a=q[e];D(a,e,a._current+t,Z,1==t?1:2)}function y(e){return He.isArray(K.readonly)?K.readonly[e]:K.readonly}function w(e,t,a){var n=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=He.isArray(e.data),e._array&&(e._length=e.data.length,He.each(e.data,function(t,a){e._map[h(a)]=t})),e.circular=void 0===K.circular?void 0===e.circular?e._array&&e._length>K.rows:e.circular:He.isArray(K.circular)?K.circular[t]:K.circular,e.min=e._array?e.circular?-1/0:0:void 0===e.min?-1/0:e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=m(e,W[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-X,e._last=e._index+X,e._offset=e._first,a?(e._offset-=e._margin/J+(e._index-n),e._margin+=(e._index-n)*J):e._margin=0,e._refresh=function(t){var a=-(e.min-e._offset+(e.multiple&&!I?Math.floor(K.rows/2):0))*J,n=Math.min(a,-(e.max-e._offset-(e.multiple&&!I?Math.floor(K.rows/2):0))*J);Ie(e._scroller.settings,{minScroll:n,maxScroll:a}),e._scroller.refresh(t)},G[e.key]=e,e}function _(e,t,a,n,s){var r,i,o,l,c,d,m,p,b="",v=Q._tempSelected[t],g=e._disabled||{};for(r=a;r<=n;r++)o=u(e,r),c=f(o),l=h(o),i=o&&void 0!==o.cssClass?o.cssClass:"",d=o&&void 0!==o.label?o.label:"",m=o&&o.invalid,p=void 0!==l&&l==W[t]&&!e.multiple,b+='<div role="option" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(s?"mbsc-sc-itm-3d ":"")+i+" "+(p?"mbsc-sc-itm-sel ":"")+(v[l]?O:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(m?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(g[l]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+r+'" data-val="'+l+'"'+(d?' aria-label="'+d+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+J+"px;line-height:"+J+"px;"+(s?Ae+"transform:rotateX("+(e._offset-r)*H%360+"deg) translateZ("+J*K.rows/2+"px);":"")+'">'+(B>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(J/B)+"px;font-size:"+Math.round(J/B*.8)+'px;">':"")+c+(B>1?"</div>":"")+"</div>";return b}function M(t){var a=K.headerText;return a?"function"==typeof a?a.call(e,t):a.replace(/\{value\}/i,t):""}function C(e,t,a){var n=Math.round(-a/J)+e._offset,s=n-e._current,r=e._first,i=e._last,o=r+X-F+1,l=i-X+F;s&&(e._first+=s,e._last+=s,e._current=n,s>0?(e._$scroller.append(_(e,t,Math.max(i+1,r+s),i+s)),He(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(s,i-r+1)).remove(),I&&(e._$3d.append(_(e,t,Math.max(l+1,o+s),l+s,!0)),He(".mbsc-sc-itm",e._$3d).slice(0,Math.min(s,l-o+1)).attr("class","mbsc-sc-itm-del"))):s<0&&(e._$scroller.prepend(_(e,t,r+s,Math.min(r-1,i+s))),He(".mbsc-sc-itm",e._$scroller).slice(Math.max(s,r-i-1)).remove(),I&&(e._$3d.prepend(_(e,t,o+s,Math.min(o-1,l+s),!0)),He(".mbsc-sc-itm",e._$3d).slice(Math.max(s,o-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=s*J,e._$scroller.css("margin-top",e._margin+"px"))}function S(e,t,a,n){var s,r=q[e],i=n||r._disabled,o=m(r,t),l=t,c=t,d=0,u=0;if(void 0===t&&(t=p(r,o)),!0===i[t]){for(s=0;o-d>=r.min&&i[l]&&s<100;)s++,d++,l=p(r,o-d);for(s=0;o+u<r.max&&i[c]&&s<100;)s++,u++,c=p(r,o+u);t=(u<d&&u&&2!==a||!d||o-d<0||1==a)&&!i[c]?c:l}return t}function k(t,a,n,s,r,i){var o,l,c,d,u=Q._isVisible;R=!0,d=K.validate.call(e,{values:W.slice(0),index:a,direction:n},Q)||{},R=!1,d.valid&&(Q._tempWheelArray=W=d.valid.slice(0)),i||He.each(q,function(e,s){if(u&&s._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),s._disabled={},d.disabled&&d.disabled[e]&&He.each(d.disabled[e],function(e,t){s._disabled[t]=!0,u&&s._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),W[e]=s.multiple?W[e]:S(e,W[e],n),u){if(s.multiple&&void 0!==a||s._$markup.find(".mbsc-sc-itm-sel").removeClass(O).removeAttr("aria-selected"),s.multiple){if(void 0===a)for(var i in Q._tempSelected[e])s._$markup.find('.mbsc-sc-itm[data-val="'+i+'"]').addClass(O).attr("aria-selected","true")}else s._$markup.find('.mbsc-sc-itm[data-val="'+W[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");l=m(s,W[e]),o=l-s._index+s._batch,Math.abs(o)>2*X+1&&(c=o+(2*X+1)*(o>0?-1:1),s._offset+=c,s._margin-=c*J,s._refresh()),s._index=l+s._batch,s._scroller.scroll(-(l-s._offset+s._batch)*J,a===e||void 0===a?t:Z,r)}}),U("onValidated"),Q._tempValue=K.formatValue(W,Q),u&&Q._header.html(M(Q._tempValue)),Q.live&&(Q._hasValue=s||Q._hasValue,N(s,s,0,!0),s&&U("onSet",{valueText:Q._value})),s&&U("onChange",{valueText:Q._tempValue})}function D(e,t,a,n,s,r,i){var o=p(e,a);void 0!==o&&(W[t]=o,e._batch=e._array?Math.floor(a/e._length)*e._length:0,setTimeout(function(){k(n,t,s,!0,r,i)},10))}function N(e,t,a,n,s){if(n?Q._tempValue=K.formatValue(Q._tempWheelArray,Q):k(a),!s){Q._wheelArray=[];for(var r=0;r<W.length;r++)Q._wheelArray[r]=q[r]&&q[r].multiple?Object.keys(Q._tempSelected[r])[0]:W[r];Q._value=Q._hasValue?Q._tempValue:null,Q._selected=Ie(!0,{},Q._tempSelected)}e&&(Q._isInput&&ee.val(Q._hasValue?Q._tempValue:""),U("onFill",{valueText:Q._hasValue?Q._tempValue:"",change:t}),t&&(Q._preventChange=!0,ee.trigger("change")))}var V,A,F,H,I,O,L,P,E,Y,j,z,W,J,$,R,K,U,B,q,G,X=40,Z=1e3,Q=this,ee=He(e);Ke.call(this,e,t,!0),Q.setVal=Q._setVal=function(t,a,n,s,r){Q._hasValue=null!==t&&void 0!==t,Q._tempWheelArray=W=He.isArray(t)?t.slice(0):K.parseValue.call(e,t,Q)||[],N(a,void 0===n?a:n,r,!1,s)},Q.getVal=Q._getVal=function(e){var t=Q._hasValue||e?Q[e?"_tempValue":"_value"]:null;return d(t)?+t:t},Q.setArrayVal=Q.setVal,Q.getArrayVal=function(e){return e?Q._tempWheelArray:Q._wheelArray},Q.changeWheel=function(e,t,a){var n,s;He.each(e,function(e,t){(s=G[e])&&(n=s._nr,Ie(s,t),w(s,n,!0),Q._isVisible&&(I&&s._$3d.html(_(s,n,s._first+X-F+1,s._last-X+F,!0)),s._$scroller.html(_(s,n,s._first,s._last)).css("margin-top",s._margin+"px"),s._refresh(R)))}),!Q._isVisible||Q._isLiquid||R||Q.position(),R||k(t,void 0,void 0,a)},Q.getValidValue=S,Q._generateContent=function(){var e,t=0,a="",n=I?Ae+"transform: translateZ("+(J*K.rows/2+3)+"px);":"",s='<div class="mbsc-sc-whl-l" style="'+n+"height:"+J+"px;margin-top:-"+(J/2+(K.selectedLineBorder||0))+'px;"></div>',r=0;return He.each(K.wheels,function(i,o){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(I?" mbsc-sc-whl-gr-3d-c":"")+(K.showLabel?" mbsc-sc-lbl-v":"")+'">'+s+'<div class="mbsc-sc-whl-gr'+(I?" mbsc-sc-whl-gr-3d":"")+(L?" mbsc-sc-cp":"")+(K.width||K.maxWidth?'"':'" style="max-width:'+K.maxPopupWidth+'px;"')+">",He.each(o,function(i,o){Q._tempSelected[r]=Ie({},Q._selected[r]),q[r]=w(o,r),t+=K.maxWidth?K.maxWidth[r]||K.maxWidth:K.width?K.width[r]||K.width:0,e=void 0!==o.label?o.label:i,a+='<div class="mbsc-sc-whl-w '+(o.cssClass||"")+(o.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(K.width?"width:"+(K.width[r]||K.width)+"px;":(K.minWidth?"min-width:"+(K.minWidth[r]||K.minWidth)+"px;":"")+(K.maxWidth?"max-width:"+(K.maxWidth[r]||K.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+n+'"></div>'+s+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(o.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+r+'" class="mbsc-sc-whl" style="height:'+K.rows*J*(I?1.1:1)+'px;">'+(L?'<div data-index="'+r+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(K.btnPlusClass||"")+'" style="height:'+J+"px;line-height:"+J+'px;"></div><div data-index="'+r+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(K.btnMinusClass||"")+'" style="height:'+J+"px;line-height:"+J+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+$+"px;margin-top:-"+($/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+($-J)/2+'px;">',a+=_(o,r,o._first,o._last)+"</div></div>",I&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+J+"px;margin-top:-"+J/2+'px;">',a+=_(o,r,o._first+X-F+1,o._last-X+F,!0),a+="</div>"),a+="</div></div>",r++}),a+="</div></div>"}),t&&(K.maxPopupWidth=t),a},Q._attachEvents=function(e){He(".mbsc-sc-btn",e).on("touchstart mousedown",n).on("touchmove",s).on("touchend touchcancel",r),He(".mbsc-sc-whl",e).on("keydown",i).on("keyup",o)},Q._detachEvents=function(){for(var e=0;e<q.length;e++)q[e]._scroller.destroy()},Q._markupReady=function(e){V=e,He(".mbsc-sc-whl-w",V).each(function(e){var t,a=He(this),n=q[e],s=-(n.min-n._offset+(n.multiple&&!I?Math.floor(K.rows/2):0))*J,r=Math.min(s,-(n.max-n._offset-(n.multiple&&!I?Math.floor(K.rows/2):0))*J);n._$markup=a,n._$scroller=He(".mbsc-sc-whl-sc",this),n._$3d=He(".mbsc-sc-whl-3d",this),n._scroller=new qe(this,{mousewheel:K.mousewheel,moveElement:n._$scroller,initialPos:(n._first-n._index)*J,contSize:0,snap:J,minScroll:r,maxScroll:s,maxSnapScroll:X,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){I&&(n._$3d[0].style[Fe+"Transition"]=t?Ae+"transform "+Math.round(t)+"ms "+a:"",n._$3d[0].style[Fe+"Transform"]="rotateX("+-e/J*H+"deg)")},onStart:function(t,a){a.settings.readonly=y(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),U("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var s=90==a.direction?1:2,r=a.duration,i=a.destinationY;t=Math.round(-i/J)+n._offset,D(n,e,t,r,s)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),U("onWheelAnimationEnd",{index:e}),n._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){C(n,e,t.posY)},onBtnTap:function(t){c(e,He(t.target))}})}),k()},Q._fillValue=function(){Q._hasValue=!0,N(!0,!0,0,!0)},Q._clearValue=function(){He(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",V).removeClass(O).removeAttr("aria-selected")},Q._readValue=function(){var t=ee.val()||"",a=0;""!==t&&(Q._hasValue=!0),Q._tempWheelArray=W=Q._hasValue&&Q._wheelArray?Q._wheelArray.slice(0):K.parseValue.call(e,t,Q)||[],Q._tempSelected=Ie(!0,{},Q._selected),He.each(K.wheels,function(e,t){He.each(t,function(e,t){q[a]=w(t,a),a++})}),N(!1,!1,0,!0),U("onRead")},Q.__processSettings=function(){K=Q.settings,U=Q.trigger,B=K.multiline,O="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+K.checkIcon,q=[],G={}},Q.__init=function(){L=K.showScrollArrows,I=K.scroll3d&&!Ze&&!L,J=K.height,$=I?2*Math.round((J-.03*(J*K.rows/2+3))/2):J,F=Math.round(1.8*K.rows),H=360/(2*F),L&&(K.rows=Math.max(3,K.rows)),K.cssClass=(K.cssClass||"")+" mbsc-sc"},Q._getItemValue=h,Q._tempSelected={},Q._selected={},a||Q.init(t)};Qe.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:Ie({},Ke.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,n,s=[],r=[],i=0;return null!==e&&void 0!==e&&(s=(e+"").split(" ")),He.each(t.settings.wheels,function(e,o){He.each(o,function(e,o){n=o.data,a=t._getItemValue(n[0]),He.each(n,function(e,n){if(s[i]==t._getItemValue(n))return a=t._getItemValue(n),!1}),r.push(a),i++})}),r}})};se.classes.Scroller=Qe;se.i18n["en-GB"]=se.i18n["en-UK"]={dateFormat:"dd/mm/yy",timeFormat:"HH:ii"};se.customTheme("android-holo-light","android-holo"),se.customTheme("ios-dark","ios"),se.customTheme("material-dark","material"),se.customTheme("mobiscroll-dark","mobiscroll"),se.customTheme("wp-light","wp");var $a=se.themes,Ra=void 0;return"android"==ve?Ra=xe>=5?"material":"android-holo":"ios"==ve?Ra="ios":"wp"==ve&&(Ra="wp"),se.setAutoTheme=function(){He.each($a.frame,function(e,t){if(Ra&&t.baseTheme==Ra&&"android-holo-light"!=e&&"material-dark"!=e&&"wp-light"!=e&&"ios-dark"!=e)return se.autoTheme=e,!1;e==Ra&&(se.autoTheme=e)})},se.setAutoTheme(),se});

(function() {
	var ms = mobiscroll,
		$ = ms.$,
		frame = ms.themes.frame,
		//wheels数据
		wheels = [
			{
	            label: '省份',
	            data: []
	        },
	        {
	        	label: '城市',
	            data: []
	        },
	        {
	        	label: '区县',
	            data: []
	        }
		],
		presets = ms.presets.scroller;
	//==========================
	ms.presetShort('area');
	//方法
	presets.area = function(inst) {
		var config;
		var area_fun = {
			//初始化应用程序
			load : function(){
				this.province(true);
			},
			/**
			 * 获取省份数据
			 * @param {Boolean} down 是否执行下级方法
			 */
			province : function(down){
				var run_arr = [];
				$(area_list).each(function(index, val){
					run_arr.push({
						value: index,
						area_id : val.area_id,
	                	display: val.area_name
					})
				})
				
				wheels[0].data = run_arr;
				
				if(down){
					this.city(0);
				}
				
			},
			/**
			 * 获取城市数据
			 * 
			 * @param {Number} province_index 省级索引
			 */
			city : function(province_index){
				var run_arr = [];
				
				$(area_list[province_index].data).each(function(index, val){
					run_arr.push({
						value: index,
						area_id : val.area_id,
	                	display: val.area_name
					})
				})
				
				wheels[1].data = run_arr;
				
				//执行下一步
				this.county(province_index, 0);
				
			},
			/**
			 * 获取区县数据
			 * 
			 * @param {Number} province_index 省份索引
			 * @param {Number} city_index 城市索引
			 */
			county : function(province_index, city_index){
				var data = area_list[province_index].data[city_index].data,
					run_arr = [];
				
				if(typeof(data)=="object"){
					//遍历数据
					$(data).each(function(index, val){
						run_arr.push({
							value: index,
							area_id : val.area_id,
		                	display: val.area_name
						})
					})
					wheels[2].data = run_arr;
				}
				
			}
		}
		
		//初始化地址数据
		area_fun.load()
		
        //配置数据
        config = {
        	compClass : "mbsc-area",
        	circular : false,
        	headerText: false,
        	wheels : [wheels],
        	formatValue : function(data){
        		var str = [];
        		for (var i=0; i<3; i++) {
        			var name = wheels[i].data[data[i]];
        			if(name){
        				str.push(name.display);
        			}
        		}
        		return str.join(" ");
        	},
        	onSet : function(data){
        		var _tempWheelArray = inst._tempWheelArray,
        			run_arr = [];
        		for (var i=0; i<3; i++) {
        			var obj = wheels[i].data[_tempWheelArray[i]];
        			if(obj){
        				run_arr.push({
        					area_id : obj.area_id,
        					area_name : obj.display
        				})
        			}
        		}
        		inst._wheelArray = run_arr
        	},
        	validate: function(data) {
        		var index = data.index,
        			run_arr = {},
        			valid = [],
        			direction = data.direction,
        			values = data.values;
        			
        		if(typeof(index)=="undefined") return false;
        		
        		//如果转动的是省份
        		if(index==0){
        			area_fun.city(values[0]);
        			//设置数据
        			run_arr = {
        				1: {
					        data: wheels[1].data
					    },
					    2 : {
					        data: wheels[2].data
					    }
        			}
        			
        			valid = [values[0], 0, 0];
        			
        		}
        		
        		//如果转动的是城市
        		if(index==1){
        			area_fun.county(values[0], values[1]);
        			//设置数据
        			run_arr = {
					    2 : {
					        data: wheels[2].data
					    }
        			}
        			valid = [values[0], values[1], 0];
        		}
        		inst.changeWheel(run_arr, 1000);
        		//返回数据
        		if(index!=2){
        			return {
	                    valid : valid
	                };
        		}
        		
        	}
        }
      	return config;
	}
	
	
}());